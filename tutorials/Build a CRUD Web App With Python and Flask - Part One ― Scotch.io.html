<!DOCTYPE html>
<!-- saved from url=(0079)https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io</title>

<link rel="apple-touch-icon" sizes="180x180" href="https://scotch.io/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://scotch.io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://scotch.io/favicon-16x16.png">
<link rel="manifest" href="https://scotch.io/manifest.json">
<link rel="mask-icon" href="https://scotch.io/safari-pinned-tab.svg" color="#2e2e2e">
<meta name="msapplication-TileColor" content="#2e2e2e">
<meta name="theme-color" content="#333">
<link rel="alternate" hreflang="en" type="application/rss+xml" href="https://scotch.io/feed" title="Scotch.io RSS Feed">

<meta name="author" content="Mbithe Nzomo">
<link rel="canonical" href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one">
<link rel="amphtml" href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one/amp">

<meta name="twitter:url" content="http://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one">
<meta name="twitter:title" content="Build a CRUD Web App With Python and Flask - Part One">
<meta name="twitter:description" content="Python and Flask can make building a CRUD app super easy.">
<meta name="twitter:image" content="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/oEGZ93DzRw2JMGZStUKE_flask-crud-part-one.jpg">
<meta name="twitter:creator" content="mbithenzomo">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@scotch_io">

<meta property="og:title" content="Build a CRUD Web App With Python and Flask - Part One">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/oEGZ93DzRw2JMGZStUKE_flask-crud-part-one.jpg">
<meta property="og:description" content="Python and Flask can make building a CRUD app super easy.">
<meta property="article:author" content="Scotch">
<meta property="fb:admins" content="579622216,709634581">
<meta property="fb:app_id" content="1389892087910588">
<meta property="og:url" content="http://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one">
<meta property="og:type" content="article">
<meta property="article:publisher" content="https://www.facebook.com/scotchdevelopment">
<meta property="og:site_name" content="Scotch">

<link rel="publisher" href="https://plus.google.com/b/113854128330570384219">
<link rel="author" href="https://plus.google.com/b/113854128330570384219">
<meta name="description" content="Python and Flask can make building a CRUD app super easy.">
<meta name="google-site-verification" content="NoKkRtzSguNO3Xd1cuhpVkUoh7n8mz-aofV9Ch4aS8w">
<meta name="article_category" data-category="python">
<meta name="article_tags" content="python">
<meta name="article_tags" content="crud">
<meta name="article_tags" content="flask">
<link rel="dns-prefetch" href="https://scotch.io/">
<link rel="dns-prefetch" href="https://4krgxptf7k-dsn.algolia.net/">
<link rel="dns-prefetch" href="https://scotch-res.cloudinary.com/">
<link rel="dns-prefetch" href="https://www.gravatar.com/">
<link rel="dns-prefetch" href="https://www.google-analytics.com/">
<link rel="dns-prefetch" href="https://sessions.bugsnag.com/">
<link rel="preconnect" href="https://scotch.io/">
<link rel="preconnect" href="https://4krgxptf7k-dsn.algolia.net/">
<link rel="preconnect" href="https://scotch-res.cloudinary.com/">
<link rel="preconnect" href="https://www.gravatar.com/">
<link rel="preconnect" href="https://www.google-analytics.com/">
<link rel="preconnect" href="https://sessions.bugsnag.com/">
<link rel="dns-prefetch" href="https://open-api.spot.im/">
<link rel="preconnect" href="https://open-api.spot.im/">
<link rel="stylesheet" href="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/fonts.css">
<link rel="stylesheet" href="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/main.css">
<style>
    #twitch-banner {
        transition: 0.3s ease background;
    }
    #twitch-banner:hover {
        background: hsl(254, 36%, 45%) !important;
    }
</style>
<script async="" src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/analytics.js"></script><script>
        window.scotchy = window.scotchy || {};
        window.scotchy.env = 'production';
    </script><style id="dark-reader-style" type="text/css">@media screen {

/* Leading rule */
html {
  -webkit-filter: invert(100%) hue-rotate(180deg) brightness(50%) !important;
  filter: invert(100%) hue-rotate(180deg) brightness(50%) !important;
}

/* Reverse rule */
img,
video,
:not(object):not(body)>embed,
object,
svg image,
[style*="background:url"],
[style*="background-image:url"],
[style*="background: url"],
[style*="background-image: url"],
[background],
twitterwidget,
.language-js,
.language-javascript {
  -webkit-filter: invert(100%) hue-rotate(180deg) !important;
  filter: invert(100%) hue-rotate(180deg) !important;
}
[style*="background:url"] *,
[style*="background-image:url"] *,
[style*="background: url"] *,
[style*="background-image: url"] *,
input,
[background] *,
img[src^="https://s0.wp.com/latex.php"],
twitterwidget .NaturalImage-image {
  -webkit-filter: none !important;
  filter: none !important;
}
.compatibility-with-darkreader-below-4-3-3 {
  background: white !important;
}

/* Text contrast */
html {
  text-shadow: 0 0 0 !important;
}

/* Full screen */
:-webkit-full-screen, :-webkit-full-screen * {
  -webkit-filter: none !important;
  filter: none !important;
}
:-moz-full-screen, :-moz-full-screen * {
  -webkit-filter: none !important;
  filter: none !important;
}
:fullscreen, :fullscreen * {
  -webkit-filter: none !important;
  filter: none !important;
}

/* Page background */
html {
  background: rgb(0,0,0) !important;
}

/* Custom rules */
.compatibility-with-darkreader-below-4-3-3 {
    background: white !important;
}

}</style>
<script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.ready.then(function(registration) {
                registration.unregister();
            });
        }
    </script>
</head>
<body class="is-single is-post  ">
<nav id="scotchy-nav" class="navbar is-dark">
<div class="navbar-brand">
<a class="navbar-item" href="https://scotch.io/">
<div class="scotch-container">
<div class="scotch-logo">
<img class="scotch-logo__image" src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/blank-glass.png" alt="Scotch Logo" width="30" height="49">
<svg class="scotch-logo__liquid" viewBox="0 0 30 48" style="max-width: 80px">
<defs>
<clippath id="clip-path--glass">
<path class="liquid__path-container" d="M 8.6 1.5 c 0 13.33 -4.17 20 -3.75 23.33 a 9.17 8.33 0 0 0 20.83 0 c 0.42 -3.33 -3.75 -10 -3.75 -23.33 Z"></path>
</clippath>
<clippath id="clip-path--liquid">
<path class="liquid__path liquid__path--top-clip" d="M -80 22 C -75.08 16 -69.08 16 -64.17 22 S -53.25 28 -48.33 22 S -37.42 16 -32.5 22 S -21.58 28 -16.67 22 S -5.75 16 -0.83 22 S 10.08 28 15 22 S 25.92 16 30.83 22 S 41.75 28 46.67 22 S 57.58 16 62.5 22 S 73.42 28 78.33 22 S 89.25 16 94.17 22 S 105.08 28 110 22 l 0 30 l -190 0"></path>
</clippath>
</defs>
<g clip-path="url(#clip-path--glass)">
<circle class="liquid__drop liquid__drop--top liquid__drop--1" cx="18.3" cy="3.3" r="1.5"></circle>
<circle class="liquid__drop liquid__drop--bottom liquid__drop--2" cx="12" cy="5" r="1.5"></circle>
<path class="liquid__path liquid__path--top" d="M -80 22 C -75.08 16 -69.08 16 -64.17 22 S -53.25 28 -48.33 22 S -37.42 16 -32.5 22 S -21.58 28 -16.67 22 S -5.75 16 -0.83 22 S 10.08 28 15 22 S 25.92 16 30.83 22 S 41.75 28 46.67 22 S 57.58 16 62.5 22 S 73.42 28 78.33 22 S 89.25 16 94.17 22 S 105.08 28 110 22 l 0 30 l -190 0"></path>
<path class="liquid__path liquid__path--bottom" d="M -70 24.5 C -65.92 18.5 -59.92 18.5 -55.83 24.5 S -45.75 30.5 -41.67 24.5 S -31.58 18.5 -27.5 24.5 S -17.42 30.5 -13.33 24.5 S -3.25 18.5 0.83 24.5 S 10.92 30.5 15 24.5 S 25.08 18.5 29.17 24.5 S 39.25 30.5 43.33 24.5 S 53.42 18.5 57.5 24.5 S 67.58 30.5 71.67 24.5 S 81.75 18.5 85.83 24.5 S 95.92 30.5 100 24.5 l 0 30 l -170 0"></path>
<g class="liquid__path--clip-container" clip-path="url(#clip-path--liquid)">
<path class="liquid__path liquid__path--bottom-clip" d="M -70 24.5 C -65.92 18.5 -59.92 18.5 -55.83 24.5 S -45.75 30.5 -41.67 24.5 S -31.58 18.5 -27.5 24.5 S -17.42 30.5 -13.33 24.5 S -3.25 18.5 0.83 24.5 S 10.92 30.5 15 24.5 S 25.08 18.5 29.17 24.5 S 39.25 30.5 43.33 24.5 S 53.42 18.5 57.5 24.5 S 67.58 30.5 71.67 24.5 S 81.75 18.5 85.83 24.5 S 95.92 30.5 100 24.5 l 0 30 l -170 0"></path>
</g>
</g>
</svg>
</div>
</div>
<span class="logo-text">Scotch</span>
</a>
<a role="button" class="navbar-burger" data-target="nav-menu" aria-label="menu" aria-expanded="false">
<span aria-hidden="true"></span>
<span aria-hidden="true"></span>
<span aria-hidden="true"></span>
</a>
</div>
<div id="nav-menu" class="navbar-menu">
<div class="navbar-start">
<a class="navbar-item " href="https://scotch.io/courses" title="Coding Courses">
<span class="left">Coding</span>
<span class="right">Courses</span>
</a>
<div class="navbar-item is-scotch-active has-dropdown is-hoverable">
<a class="navbar-link" href="https://scotch.io/posts" title="Written Posts">
<span class="left">Written</span>
<span class="right">Posts</span>
</a>
<div class="navbar-dropdown">
<a class="navbar-item" href="https://scotch.io/tutorials" title="Tutorials">Tutorials</a>
<a class="navbar-item" href="https://scotch.io/bar-talk" title="Bar Talk (News)">Bar Talk (News)</a>
<a class="navbar-item" href="https://scotch.io/community" title="Community">Community</a>
</div>
</div>
<a class="navbar-item" href="https://scotch.io/code-challenges" title="Coding Challenges">
<span class="left">Code</span> <span class="right">Challenges</span>
</a>
<a class="navbar-item " href="https://scotch.io/live-coding" title="Vue Book">
<span class="left">Live</span> <span class="right">Coding!</span>
</a>
<a class="navbar-item " href="https://scotch.io/books/vue" title="Vue Book">
<span class="left">Practical</span> <span class="right has-text-warning">Vue Book</span>
</a>
<div class="navbar-item has-dropdown is-hoverable is-hidden-tablet-only is-hidden-mobile navbar-extra">
<a class="navbar-link">...</a>
<div class="navbar-dropdown">
<a class="navbar-item" href="https://scotch.io/about">About</a>
<a class="navbar-item" href="https://scotch.io/newsletter">Newsletter</a>
<a class="navbar-item" href="https://shop.scotch.io/">Shop</a>
<a class="navbar-item" href="https://scotch.io/cool-stuff">Stuff We Use</a>
<div class="navbar-item">
<a class="m-r-sm" href="https://twitter.com/scotch_io" title="Follow Scotch on Twitter" aria-label="Follow Scotch on Twitter">
<i class="fab fa-fw fa-twitter has-text-info"></i>
</a>
<a href="https://facebook.com/scotchdevelopment" title="Follow Scotch on Facebook" aria-label="Follow Scotch on Facebook" style="margin-right: 15px;">
<i class="fab fa-fw fa-facebook has-text-link"></i>
</a>
<a href="https://facebook.com/scotchdevelopment" title="Follow Scotch on GitHub" aria-label="Follow Scotch on GitHub">
<i class="fab fa-fw fa-github-alt has-text-white"></i>
</a>
</div>
</div>
</div>
</div>
<div class="navbar-end">
<div id="react-search-bar">
</div>
<div id="react-user-nav"></div>
</div>
</div>
</nav>
<nav id="tag-nav" class="navbar is-dark is-hidden-touch">
<div class="navbar-menu">
<div class="navbar-start">
<a class="navbar-item" href="https://scotch.io/tag/react">
<span>#</span>react
</a>
<a class="navbar-item" href="https://scotch.io/tag/vue">
<span>#</span>vue
</a>
<a class="navbar-item" href="https://scotch.io/tag/angular">
<span>#</span>angular
</a>
<a class="navbar-item" href="https://scotch.io/tag/javascript">
<span>#</span>javascript
</a>
<a class="navbar-item" href="https://scotch.io/tag/node.js">
<span>#</span>node.js
</a>
<a class="navbar-item" href="https://scotch.io/tag/laravel">
<span>#</span>laravel
</a>
<a class="navbar-item" href="https://scotch.io/tag/css">
<span>#</span>css
</a>
<a class="navbar-item" href="https://scotch.io/tag/php">
<span>#</span>php
</a>
<a class="navbar-item" href="https://scotch.io/tag/editors">
<span>#</span>editors
</a>
<a class="navbar-item" href="https://scotch.io/tag/python">
<span>#</span>python
</a>
<a class="navbar-item" href="https://scotch.io/tag/api">
<span>#</span>api
</a>
<a class="navbar-item" href="https://scotch.io/tag/graphql">
<span>#</span>graphql
</a>
<a class="navbar-item" href="https://scotch.io/tag/authentication">
<span>#</span>authentication
</a>
</div>
</div>
</nav>
<div id="react-login-modal"></div>
<main id="scotchy-main">
<div id="react-article-tools" data-type="post" data-edit-url="https://my.scotch.io/posts/2379" data-id="2379" data-author-id="8943" data-status="published" data-is-preview="" data-is-community="">
</div>
<div id="react-table-of-contents"></div>
<div id="article-share-buttons">
<a href="https://github.com/scotch-io/python-flask-crud-1" target="_blank" rel="noopener noreferrer" class="action-button is-link is-code" title="View Code" data-type="Code" data-title="Build a CRUD Web App With Python and Flask - Part One" data-tooltip="Show me the code!">
<i class="fal fa-code fa-xs" data-fa-transform="shrink-2"></i>
</a>
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one?utm_source=scotch&amp;utm_campaign=share&amp;utm_medium=twitter" class="action-button share-button is-social is-twitter m-t" title="Share to Twitter" data-title="Build a CRUD Web App With Python and Flask - Part One" data-type="Twitter" data-via="scotch_io" data-tooltip="Chirp chirp">
<div role="button" aria-label="Twitter"><i class="fab fa-twitter fa-xs" data-fa-transform="right-0.5 down-0.3"></i></div>
</a>
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one?utm_source=scotch&amp;utm_campaign=share&amp;utm_medium=facebook" class="action-button share-button is-social is-facebook m-t" title="Share to Facebook" data-title="Build a CRUD Web App With Python and Flask - Part One" data-type="Facebook" data-tooltip="Zuck it">
<div role="button" aria-label="Facebook"><i class="fab fa-facebook fa-xs" data-fa-transform="up-0.2"></i></div>
</a>
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one?utm_source=scotch&amp;utm_campaign=share&amp;utm_medium=reddit" class="action-button share-button is-social is-reddit m-t" title="Share to Reddit" data-title="Build a CRUD Web App With Python and Flask - Part One" data-type="Reddit" data-tooltip="Karma me">
<div role="button" aria-label="Reddit"><i class="fab fa-reddit-alien fa-xs" data-fa-transform="left-0.1 up-0.4"></i></div>
</a>
</div>
<article class="article is-post  is-">
<div class="article-background is-left"></div>
<div class="article-background is-right"></div>
<header class="article-header">
<a href="https://bit.ly/2CDPfg2" id="twitch-banner" class="has-text-centered p-a-sm" style="
    display: none;
    background: #493a7a;
    color: hsl(254, 36%, 90%);
">
<i class="fab fa-twitch m-r-sm"></i> We're live-coding on Twitch! Join us!
</a>
<section class="
    hero
    article-hero
     is-dark     is-python
    has-feature
">
<div class="hero-body p-t-md">
<div class="container">
<div class="is-hidden-with-subscription has-text-centered">
<div id="bsa-zone_1537909991-0_123456"></div>
</div>
<div class="article-header is-post p-y">
<div class="columns">
<div class="column is-narrow is-left" style="flex-basis: 188px;"></div>
<div class="column">
<div class="article-title m-b-xs m-t-md">
<h1 class="title is-3 m-a-0">Build a CRUD Web App With Python and Flask - Part One</h1>
</div>
<div class="article-byline m-b">
<div class="scotch-line">
<div class="author">
<a href="https://scotch.io/@mbithenzomo" class="img" title="Mbithe Nzomo&#39;s Avatar" style="background-image: url(https://scotch-res.cloudinary.com/image/upload/w_40,h_40,q_auto:good,f_auto,c_fill,g_face/media/8943/DIpEAHkMScuUwZL9s5Q1_mbithe.jpg);">
</a>
<a href="https://scotch.io/@mbithenzomo" title="Mbithe Nzomo">
Mbithe Nzomo
</a>
<a class="m-l-xs" href="https://twitter.com/mbithenzomo" title="Follow @mbithenzomo on Twitter">
(@mbithenzomo)
</a>
</div>
<time>December 20, 2016</time>
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#comments" class="comment-number" title="Comments on this Article" data-id="2379" data-has-words="true">
0 Comments
</a>
<span class="hotness">
<span class="pageviews" data-type="post" data-id="2379"></span> Views
</span>
<div id="react-bookmark" data-article-type="post" data-article-id="2379" data-article-title="Build a CRUD Web App With Python and Flask - Part One">
</div>
</div>
</div>
</div>
</div>
<div class="columns is-desktop">
<div class="column is-narrow is-left is-flex" style="flex-basis: 188px; flex-direction: column; justify-content: space-between;">
<div style="width: 100%">
<div class="author author-side p-r">
<a href="https://scotch.io/@mbithenzomo" class="img is-block m-b-xs" title="Mbithe Nzomo&#39;s Avatar" style="background-image: url(https://scotch-res.cloudinary.com/image/upload/w_80,h_80,q_auto:good,f_auto,c_fill,g_face/media/8943/DIpEAHkMScuUwZL9s5Q1_mbithe.jpg);">
</a>
<a href="https://scotch.io/@mbithenzomo" title="Mbithe Nzomo" class="is-block m-b-xs">
Mbithe Nzomo
</a>
<a id="author-follow-twitter" data-twitter-username="mbithenzomo" href="https://twitter.com/mbithenzomo" title="Follow @mbithenzomo on Twitter" class="button is-outlined is-light is-small is-rounded">
Follow on Twitter
</a>
</div>
</div>
<div style="width: 100%">
<div class="tag-box is-python">
<a href="https://scotch.io/tag/python">
<span class="tag-label">
<span class="hash">#</span>python
</span>
<span class="tag-count">46</span>
</a>
</div>
<div class="tag-box is-crud">
<a href="https://scotch.io/tag/crud">
<span class="tag-label">
<span class="hash">#</span>crud
</span>
<span class="tag-count">11</span>
</a>
</div>
<div class="tag-box is-flask">
<a href="https://scotch.io/tag/flask">
<span class="tag-label">
<span class="hash">#</span>flask
</span>
<span class="tag-count">18</span>
</a>
</div>
</div>
</div>
<div class="column">
<div class="article-feature">
<div class="article-image is-2by1">
<img src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/oEGZ93DzRw2JMGZStUKE_flask-crud-part-one.webp" class="media" alt="Build a CRUD Web App With Python and Flask - Part One">
</div>
</div>
</div>
<div class="column is-narrow is-right is-flex" style="flex-basis: 300px; flex-direction: column; justify-content: space-between;">
<div style="width: 100%">
<div id="react-likes" class="p-t" data-article-type="post" data-article-id="2379" data-article-title="Build a CRUD Web App With Python and Flask - Part One">
</div>
</div>
<div class="topper-next is-dark" style="width: 100%">
<a href="https://bit.ly/2QRzirN" class="box has-text-black has-text-centered">
<h4 class="title is-4 m-b-xs has-text-warning">Scotch.io's Vue Book</h4>
<p class="m-b-sm">Build real-world Vue apps</p>
<button class="button is-small is-dark is-outlined is-rounded">Get 50% off</button>
</a>
</div>
</div>
</div>
<div class="columns">
<div class="column is-narrow is-left" style="flex-basis: 200px;"></div>
<div class="column">
<div class="article-actions is-post p-t">
<a href="https://github.com/scotch-io/python-flask-crud-1" target="_blank" rel="noopener noreferrer" class="button is-scotch is-large is-outlined is-info is-rounded">
Code
</a>
</div>
</div>
<div class="column is-narrow is-left" style="flex-basis: 300px;"></div>
</div>
</div>
</div>
</div>
<svg class="diagonal" width="100%" height="300px" viewBox="0 0 100 100" preserveAspectRatio="none">
<polygon fill="#ffffff" points="0,0 0,100 100,100"></polygon>
</svg>
</section>
</header>
<div class="section content">
<div class="container m-b-0 is-fluid">
<div class="columns is-gapless">
<div class="column is-narrow is-left">
<div class="article-inner">
</div>
</div>
<div class="column is-middle">
<div class="article-inner">
<div class="article-content">
<p>In this three-part tutorial, we'll build a CRUD (Create, Read, Update, Delete) employee management web app using <a href="http://flask.pocoo.org/">Flask</a>, a microframework for Python. I've named the app Project Dream Team, and it will have the following features:</p>
<ol>
<li>Users will be able to register and login as employees</li>
<li>The administrator will be able to create, update, and delete departments and roles</li>
<li>The administrator will be able to assign employees to a department and assign them roles</li>
<li>The administrator will be able to view all employees and their details</li>
</ol>
<p>Part One will cover:</p><div class="table-of-contents"><h3>Table of Contents</h3><ul><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-prerequisites">
Prerequisites
</a></li><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-database-setup">
Database Setup
</a></li><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-models">
Models
</a></li><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-migration">
Migration
</a></li><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-blueprints">
Blueprints
</a></li><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-home-blueprint">
Home Blueprint
</a></li><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-auth-blueprint">
Auth Blueprint
</a></li><li><a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-conclusion">
Conclusion
</a></li></ul></div>
<ol>
<li>Database setup</li>
<li>Models</li>
<li>Migration</li>
<li>Homepage</li>
<li>Authentication</li>
</ol>
<p>Ready? Here we go!</p>
<h2 id="toc-prerequisites">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-prerequisites">Prerequisites</a>
</h2>
<p>This tutorial builds on my introductory tutorial, <a href="https://scotch.io/tutorials/getting-started-with-flask-a-python-microframework"><em>Getting Started With Flask</em></a>, picking up where it left off. It assumes you have, to begin with, the following dependencies installed:</p>
<ol>
<li><a href="https://www.python.org/download/releases/2.7/">Python 2.7</a></li>
<li><a href="http://flask.pocoo.org/">Flask</a></li>
<li><a href="https://virtualenv.pypa.io/en/stable/">virtualenv</a> (and, optionally, <a href="https://virtualenvwrapper.readthedocs.io/en/latest/">virtualenvwrapper</a>)</li>
</ol>
<p>You should have a virtual environment set up and activated. You should also have the following file and directory structure:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">â”œâ”€â”€ dream-team
       â”œâ”€â”€ app
       â”‚   â”œâ”€â”€ __init__.py
       â”‚   â”œâ”€â”€ templates
       â”‚   â”œâ”€â”€ models.py
       â”‚   â””â”€â”€ views.py
       â”œâ”€â”€ config.py
       â”œâ”€â”€ requirements.txt
       â””â”€â”€ run.py</code></pre>
<p>This project structure groups the similar components of the application together. The <code>dream-team</code> directory houses all the project files. The <code>app</code> directory is the application package, and houses different but interlinked modules of the application. All templates are stored in the <code>templates</code> directory, all models are in the <code>models.py</code> file, and all routes are in the <code>views.py</code> file. The <code>run.py</code> file is the application's entry point, the <code>config.py</code> file contains the application configurations, and the <code>requirements.txt</code> file contains the software dependencies for the application.</p>
<p>If you don't have these set up, please visit the introductory tutorial and catch up!</p>
<h2 id="toc-database-setup">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-database-setup">Database Setup</a>
</h2>
<p>Flask has support for several relational database management systems, including <a href="https://sqlite.org/">SQLite</a>, <a href="https://www.mysql.com/">MySQL</a>, and <a href="https://www.postgresql.org/">PostgreSQL</a>. For this tutorial, we will be using MySQL. It's popular and therefore has a lot of support, in addition to being scalable, secure, and rich in features.</p>
<p>We will install the following (remember to activate your virtual environment):</p>
<ol>
<li><p><a href="http://flask-sqlalchemy.pocoo.org/2.1/">Flask-SQLAlchemy</a>: This will allow us to use <a href="http://www.sqlalchemy.org/">SQLAlchemy</a>, a useful tool for SQL use with Python. SQLAlchemy is an Object Relational Mapper (ORM), which means that it connects the objects of an application to tables in a relational database management system. These objects can be stored in the database and accessed without the need to write raw SQL. This is convenient because it simplifies queries that may have been complex if written in raw SQL. Additionally, it reduces the risk of <a href="https://www.w3schools.com/sql/sql_injection.asp">SQL injection attacks</a> since we are not dealing with the input of raw SQL.</p>
</li>
<li><p><a href="https://pypi.python.org/pypi/MySQL-python/1.2.5">MySQL-Python</a>: This is a Python interface to MySQL. It will help us connect the MySQL database to the app.</p>
</li>
</ol>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ pip <span class="token function">install</span> flask-sqlalchemy mysql-python</code></pre>
<p>We'll then create the MySQL database. Ensure you have MySQL installed and running, and then log in as the root user:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ mysql -u root

mysql<span class="token operator">&gt;</span> CREATE USER <span class="token string">'dt_admin'</span>@<span class="token string">'localhost'</span> IDENTIFIED BY <span class="token string">'dt2016'</span><span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> CREATE DATABASE dreamteam_db<span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> GRANT ALL PRIVILEGES ON dreamteam_db <span class="token keyword">.</span> * TO <span class="token string">'dt_admin'</span>@<span class="token string">'localhost'</span><span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span></code></pre>
<p>We have now created a new user <code>dt_admin</code> with the password <code>dt2016</code>, created a new database <code>dreamteam_db</code>, and granted the new user all database privileges.</p>
<p>Next, let's edit the <code>config.py</code>. Remove any exisiting code and add the following:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># config.py</span>

<span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Common configurations
    """</span>

    <span class="token comment"># Put any configurations here that are common across all environments</span>


<span class="token keyword">class</span> <span class="token class-name">DevelopmentConfig</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Development configurations
    """</span>

    DEBUG <span class="token operator">=</span> <span class="token boolean">True</span>
    SQLALCHEMY_ECHO <span class="token operator">=</span> <span class="token boolean">True</span>


<span class="token keyword">class</span> <span class="token class-name">ProductionConfig</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Production configurations
    """</span>

    DEBUG <span class="token operator">=</span> <span class="token boolean">False</span>

app_config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'development'</span><span class="token punctuation">:</span> DevelopmentConfig<span class="token punctuation">,</span>
    <span class="token string">'production'</span><span class="token punctuation">:</span> ProductionConfig
<span class="token punctuation">}</span></code></pre>
<p>It is good practice to specify configurations for different environments. In the file above, we have specifed configurations for development, which we will use while building the app and running it locally, as well as production, which we will use when the app is deployed.</p><style>
.ml-subscribe-form-1112154 {
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(at top left,#e5d0ad,#d2af73);
    margin-bottom: 35px;
    margin-left: -60px;
    margin-right: -60px;
    color: #eee;
    text-align: center;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 30px;
    padding-bottom: 30px;
    border-radius: 10px !important;
    box-shadow: 5px 5px 0 hsla(38, 48%, 30%, 0.2);
}

.ml-subscribe-form-1112154 h4 {
    font-size: 22px;
    color: #eee;
    margin-bottom: 20px;
}
</style>
<div id="mlb2-1112154" class="is-hidden-with-account ml-form-embedContainer ml-subscribe-form ml-subscribe-form-1112154 is-hidden-mobile">
<div class="ml-form-align-center ">
<div class="ml-form-embedWrapper embedForm">
<div class="ml-form-embedBody ml-form-embedBodyDefault row-form">
<h3 class="m-b-xs m-t-0">Free Node eBook</h3>
<p class="m-b" style="color: #555;">Build your first Node apps and learn server-side JavaScript.</p>
<form class="ml-block-form" action="https://app.mailerlite.com/webforms/submit/c7r3j6" data-code="c7r3j6" method="post" target="_blank">
<style type="text/css">
              .ml_message_wrapper {
                position: absolute !important;
                left: -9999px !important;
              }
            </style>
<div aria-label="Please leave the following field empty" class="ml_message_wrapper">
<input type="text" name="ml_message" tabindex="-1" value="" placeholder="Message" autocomplete="off" title="message">
<input type="text" name="ml_email" tabindex="-1" value="" placeholder="Email" autocomplete="off" title="email">
<input type="text" name="ml_name" tabindex="-1" value="" placeholder="Name" autocomplete="off" title="name">
</div>
<div class="field has-addons">
<div class="control is-expanded has-icons-left ml-field-group ml-field-email ml-validate-email ml-validate-required">
<input type="email" class="form-control input is-medium" data-inputmask="" name="fields[email]" value="" placeholder="Email" aria-label="Your Email">
<div class="icon is-small is-left">
ðŸ“§
</div>
</div>
<div class="control">
<button type="submit" class="primary button is-dark is-medium">Get the eBook</button>
<button disabled="" style="display: none;" type="button" class="button is-dark is-medium is-loading loading">
ðŸŒŸ Magic âœ¨
</button>
</div>
</div>
<style type="text/css">
              .ml-form-recaptcha {
                margin-bottom: 20px;
              }

              .ml-form-recaptcha.ml-error iframe {
                border: solid 1px #ff0000;
              }
            </style>
<input type="hidden" name="ml-submit" value="1">
</form>
 </div>
<div class="ml-form-successBody row-success" style="display: none">
<div class="ml-form-successContent">
<h3 class="m-b-xs m-t-0">Thank you!</h3>
<p class="m-b-0" style="color: #555;">You have successfully joined the Scotchy super duper web dev awesome mailing list.<br><br></p>
</div>
</div>
</div>
</div>
</div>
<script>
    function ml_webform_success_1112154() {
        document.querySelector('.ml-subscribe-form-1112154 .row-success').style.display = 'block';
        document.querySelector('.ml-subscribe-form-1112154 .row-form').style.display = 'none';
        // var $ = ml_jQuery || jQuery;
        // $('.ml-subscribe-form-1112154 .row-success').show();
        // $('.ml-subscribe-form-1112154 .row-form').hide();
      }
  </script>
<img class="lazy" data-src="https://track.mailerlite.com/webforms/o/1112154/c7r3j6?vaa4d608450783acdc64d5338ff94f6d5" width="1" height="1" style="max-width: 1px; max-height: 1px; visibility: hidden; padding: 0; margin: 0; display: block;" border="0">
<p>Some useful configuration variables are:</p>
<ol>
<li><code>TESTING</code>: setting this to <code>True</code> activates the testing mode of Flask extensions. This allows us to use testing properties that could for instance have an increased runtime cost, such as unittest helpers. It should be set to <code>True</code> in the configurations for testing. It defaults to <code>False</code>.</li>
<li><code>DEBUG</code>: setting this to <code>True</code> activates the debug mode on the app. This allows us to use the Flask debugger in case of an unhandled exception, and also automatically reloads the application when it is updated. It should however always be set to <code>False</code> in production. It defaults to <code>False</code>.</li>
<li><code>SQLALCHEMY_ECHO</code>: setting this to <code>True</code> helps us with debugging by allowing SQLAlchemy to log errors.</li>
</ol>
<p>You can find more Flask configuration variables <a href="http://flask.pocoo.org/docs/0.11/config/">here</a> and SQLAlchemy configuration variables <a href="http://flask-sqlalchemy.pocoo.org/2.1/config/">here</a>.</p>
<p>Next, create an <code>instance</code> directory in the <code>dream-team</code> directory, and then create a <code>config.py</code> file inside it. We will put configuration variables here that will not be pushed to version control due to their sensitive nature. In this case, we put the secret key as well as the database URI which contains the database user password.</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># instance/config.py</span>

SECRET_KEY <span class="token operator">=</span> <span class="token string">'p9Bv&lt;3Eid9%$i01'</span>
SQLALCHEMY_DATABASE_URI <span class="token operator">=</span> <span class="token string">'mysql://dt_admin:dt2016@localhost/dreamteam_db'</span></code></pre>
<p>Now, let's edit the <code>app/__init__.py</code> file. Remove any existing code and add the following:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/__init__.py</span>

<span class="token comment"># third-party imports</span>
<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask
<span class="token keyword">from</span> flask_sqlalchemy <span class="token keyword">import</span> SQLAlchemy

<span class="token comment"># local imports</span>
<span class="token keyword">from</span> config <span class="token keyword">import</span> app_config

<span class="token comment"># db variable initialization</span>
db <span class="token operator">=</span> SQLAlchemy<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span>config_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">,</span> instance_relative_config<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_object<span class="token punctuation">(</span>app_config<span class="token punctuation">[</span>config_name<span class="token punctuation">]</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_pyfile<span class="token punctuation">(</span><span class="token string">'config.py'</span><span class="token punctuation">)</span>
    db<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>

    <span class="token keyword">return</span> app</code></pre>
<p>We've created a function, <code>create_app</code> that, given a configuration name, loads the correct configuration from the <code>config.py</code> file, as well as the configurations from the <code>instance/config.py</code> file. We have also created a <code>db</code> object which we will use to interact with the database.</p>
<p>Next, let's edit the <code>run.py</code> file:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># run.py</span>

<span class="token keyword">import</span> os

<span class="token keyword">from</span> app <span class="token keyword">import</span> create_app

config_name <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'FLASK_CONFIG'</span><span class="token punctuation">)</span>
app <span class="token operator">=</span> create_app<span class="token punctuation">(</span>config_name<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>We create the app by running the <code>create_app</code> function and passing in the configuration name. We get this from the OS environment variable <code>FLASK_CONFIG</code>. Because we are in development, we should set the environment variable to <code>development</code>. </p>
<p>Let's run the app to ensure everything is working as expected. First, delete the <code>app/views.py</code> file as well as the <code>app/templates</code> directory as we will not be needing them going forward. Next, add a temporary route to the <code>app/__init__.py</code> file as follows:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/__init__.py</span>

<span class="token comment"># existing code remains</span>


<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span>config_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># existing code remains</span>

    <span class="token comment"># temporary route</span>
    @app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">hello_world</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'Hello, World!'</span>

    <span class="token keyword">return</span> app</code></pre>
<p>Make sure you set the <code>FLASK_CONFIG</code> and <code>FLASK_APP</code> environment variables before running the app:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ <span class="token function">export</span> FLASK_CONFIG<span class="token operator">=</span>development
$ <span class="token function">export</span> FLASK_APP<span class="token operator">=</span>run.py
$ flask run
 * Serving Flask app <span class="token string">"run"</span>
 * Running on http://127.0.0.1:5000/ <span class="token punctuation">(</span>Press CTRL+C to quit<span class="token punctuation">)</span></code></pre>
<p><img alt="" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/ZARmTHcvR5WA9FENq2Nn_Screen%20Shot%202016-12-14%20at%202.56.03%20PM.png"></p>
<p>We can see the "Hello, World" string we set in the route. The app is working well so far.</p>
<h2 id="toc-models">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-models">Models</a>
</h2>
<p>Now to work on the models. Remember that a model is a representation of a database table in code. We'll need three models: <code>Employee</code>, <code>Department</code>, and <code>Role</code>.</p>
<p>But first, let's install <a href="https://flask-login.readthedocs.io/en/latest/">Flask-Login</a>, which will help us with user management and handle logging in, logging out, and user sessions. The <code>Employee</code> model will inherit from Flask-Login's <code>UserMixin</code> class which will make it easier for us to make use of its properties and methods.</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ pip <span class="token function">install</span> flask-login</code></pre>
<p>To use Flask-Login, we need to create a LoginManager object and initialize it in the <code>app/__init__.py</code> file. First, remove the route we added earlier, and then add the following:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/__init__.py</span>

<span class="token comment"># after existing third-party imports</span>
<span class="token keyword">from</span> flask_login <span class="token keyword">import</span> LoginManager

<span class="token comment"># after the db variable initialization</span>
login_manager <span class="token operator">=</span> LoginManager<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span>config_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># existing code remains</span>

    login_manager<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    login_manager<span class="token punctuation">.</span>login_message <span class="token operator">=</span> <span class="token string">"You must be logged in to access this page."</span>
    login_manager<span class="token punctuation">.</span>login_view <span class="token operator">=</span> <span class="token string">"auth.login"</span>

    <span class="token keyword">return</span> app</code></pre>
<p>In addition to initializing the LoginManager object, we've also added a <code>login_view</code> and <code>login_message</code> to it. This way, if a user tries to access a page that they are not authorized to, it will redirect to the specified view and display the specified message. We haven't created the <code>auth.login</code> view yet, but we will when we get to authentication.</p>
<p>Now add the following code to the <code>app/models.py</code> file:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/models.py</span>

<span class="token keyword">from</span> flask_login <span class="token keyword">import</span> UserMixin
<span class="token keyword">from</span> werkzeug<span class="token punctuation">.</span>security <span class="token keyword">import</span> generate_password_hash<span class="token punctuation">,</span> check_password_hash

<span class="token keyword">from</span> app <span class="token keyword">import</span> db<span class="token punctuation">,</span> login_manager


<span class="token keyword">class</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span>UserMixin<span class="token punctuation">,</span> db<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Create an Employee table
    """</span>

    <span class="token comment"># Ensures table will be named in plural and not in singular</span>
    <span class="token comment"># as is the name of the model</span>
    __tablename__ <span class="token operator">=</span> <span class="token string">'employees'</span>

    <span class="token builtin">id</span> <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    email <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    username <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    first_name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    password_hash <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    department_id <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> db<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span><span class="token string">'departments.id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    role_id <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> db<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span><span class="token string">'roles.id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    is_admin <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Boolean<span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>

    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">password</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Prevent pasword from being accessed
        """</span>
        <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">'password is not a readable attribute.'</span><span class="token punctuation">)</span>

    @password<span class="token punctuation">.</span>setter
    <span class="token keyword">def</span> <span class="token function">password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Set password to a hashed password
        """</span>
        self<span class="token punctuation">.</span>password_hash <span class="token operator">=</span> generate_password_hash<span class="token punctuation">(</span>password<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">verify_password</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Check if hashed password matches actual password
        """</span>
        <span class="token keyword">return</span> check_password_hash<span class="token punctuation">(</span>self<span class="token punctuation">.</span>password_hash<span class="token punctuation">,</span> password<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;Employee: {}&gt;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>username<span class="token punctuation">)</span>


<span class="token comment"># Set up user_loader</span>
@login_manager<span class="token punctuation">.</span>user_loader
<span class="token keyword">def</span> <span class="token function">load_user</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> Employee<span class="token punctuation">.</span>query<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Department</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Create a Department table
    """</span>

    __tablename__ <span class="token operator">=</span> <span class="token string">'departments'</span>

    <span class="token builtin">id</span> <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    description <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    employees <span class="token operator">=</span> db<span class="token punctuation">.</span>relationship<span class="token punctuation">(</span><span class="token string">'Employee'</span><span class="token punctuation">,</span> backref<span class="token operator">=</span><span class="token string">'department'</span><span class="token punctuation">,</span>
                                lazy<span class="token operator">=</span><span class="token string">'dynamic'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;Department: {}&gt;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Role</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Create a Role table
    """</span>

    __tablename__ <span class="token operator">=</span> <span class="token string">'roles'</span>

    <span class="token builtin">id</span> <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    description <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    employees <span class="token operator">=</span> db<span class="token punctuation">.</span>relationship<span class="token punctuation">(</span><span class="token string">'Employee'</span><span class="token punctuation">,</span> backref<span class="token operator">=</span><span class="token string">'role'</span><span class="token punctuation">,</span>
                                lazy<span class="token operator">=</span><span class="token string">'dynamic'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;Role: {}&gt;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre>
<p>In the <code>Employee</code> model, we make use of some of Werkzeug's handy security helper methods, <code>generate_password_hash</code>, which allows us to hash passwords, and <code>check_password_hash</code>, which allows us ensure the hashed password matches the password. To enhance security, we have a <code>password</code> method which ensures that the password can never be accessed; instead an error will be raised. We also have two foreign key fields, <code>department_id</code> and <code>role_id</code>, which refer to the ID's of the department and role assigned to the employee.</p>
<p>Note that we have an <code>is_admin</code> field which is set to <code>False</code> by default. We will override this when creating the admin user. Just after the <code>Employee</code> model, we have a <code>user_loader</code> callback, which Flask-Login uses to reload the user object from the user ID stored in the session.</p>
<p>The <code>Department</code> and <code>Role</code> models are quite similar. Both have <code>name</code> and <code>description</code> fields. Additionally, both have a one-to-many relationship with the <code>Employee</code> model (one department or role can have many employees). We define this in both models using the <code>employees</code> field. <code>backref</code> allows us to create a new property on the <code>Employee</code> model such that we can use <code>employee.department</code> or <code>employee.role</code> to get the department or role assigned to that employee. <code>lazy</code> defines how the data will be loaded from the database; in this case it will be loaded dynamically, which is ideal for managing large collections.</p>
<h2 id="toc-migration">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-migration">Migration</a>
</h2>
<p>Migrations allow us to manage changes we make to the models, and propagate these changes in the database. For example, if later on we make a change to a field in one of the models, all we will need to do is create and apply a migration, and the database will reflect the change.</p>
<p>We'll begin by installing <a href="https://flask-migrate.readthedocs.io/en/latest/">Flask-Migrate</a>, which will handle the database migrations using Alembic, a lightweight database migration tool. Alembic emits <code>ALTER</code> statements to a database thus implememting changes made to the models. It also auto-generates minimalistic migration scripts, which may be complex to write.</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ pip <span class="token function">install</span> flask-migrate</code></pre>
<p>We'll need to edit the <code>app/__init__.py</code> file:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/__init__.py</span>

<span class="token comment"># after existing third-party imports</span>
<span class="token keyword">from</span> flask_migrate <span class="token keyword">import</span> Migrate

<span class="token comment"># existing code remains</span>


<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span>config_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># existing code remains</span>

    migrate <span class="token operator">=</span> Migrate<span class="token punctuation">(</span>app<span class="token punctuation">,</span> db<span class="token punctuation">)</span>

    <span class="token keyword">from</span> app <span class="token keyword">import</span> models

    <span class="token keyword">return</span> app</code></pre>
<p>We have created a <code>migrate</code> object which will allow us to run migrations using Flask-Migrate. We have also imported the models from the <code>app</code> package. Next, we'll run the following command to create a migration repository:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ flask db init</code></pre>
<p>This creates a <code>migrations</code> directory in the <code>dream-team</code> directory:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">â””â”€â”€ migrations
    â”œâ”€â”€ README
    â”œâ”€â”€ alembic.ini
    â”œâ”€â”€ env.py
    â”œâ”€â”€ script.py.mako
    â””â”€â”€ versions</code></pre>
<p>Next, we will create the first migration:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ flask db migrate</code></pre>
<p>Finally, we'll apply the migration:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ flask db upgrade</code></pre>
<p>We've sucessfully created tables based on the models we wrote! Let's check the MySQL database to confirm this:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">$ mysql -u root

mysql<span class="token operator">&gt;</span> use dreamteam_db<span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+------------------------+
<span class="token operator">|</span> Tables_in_dreamteam_db <span class="token operator">|</span>
+------------------------+
<span class="token operator">|</span> alembic_version        <span class="token operator">|</span>
<span class="token operator">|</span> departments            <span class="token operator">|</span>
<span class="token operator">|</span> employees              <span class="token operator">|</span>
<span class="token operator">|</span> roles                  <span class="token operator">|</span>
+------------------------+
4 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span></code></pre>
<h2 id="toc-blueprints">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-blueprints">Blueprints</a>
</h2>
<p>Blueprints are great for organising a flask app into components, each with its own views and forms. I find that blueprints make for a cleaner and more organised project structure because each blueprint is a distinct component that addresses a specific functionality of the app. Each blueprint can even have its own cutsom URL prefix or subdomain. Blueprints are particularly convenient for large applications.</p>
<p>We're going to have three blueprints in this app:</p>
<ol>
<li>Home - this will have the homepage and dashboard views</li>
<li>Admin - this will have all administrator (department and role) forms and views</li>
<li>Auth - this will have all authentication (registration and login) forms and views</li>
</ol>
<p>Create the relevant files and directories so that your directory structure resembles this:</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">â””â”€â”€ dream-team
    â”œâ”€â”€ app
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ admin
    â”‚   â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”‚   â”œâ”€â”€ forms.py
    â”‚   â”‚   â””â”€â”€ views.py
    â”‚   â”œâ”€â”€ auth
    â”‚   â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”‚   â”œâ”€â”€ forms.py
    â”‚   â”‚   â””â”€â”€ views.py
    â”‚   â”œâ”€â”€ home
    â”‚   â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”‚   â””â”€â”€ views.py
    â”‚   â”œâ”€â”€ models.py
    â”‚   â”œâ”€â”€ static
    â”‚   â””â”€â”€ templates
    â”œâ”€â”€ config.py
    â”œâ”€â”€ instance
    â”‚   â””â”€â”€ config.py
    â”œâ”€â”€ migrations
    â”‚   â”œâ”€â”€ README
    â”‚   â”œâ”€â”€ alembic.ini
    â”‚   â”œâ”€â”€ env.py
    â”‚   â”œâ”€â”€ script.py.mako
    â”‚   â””â”€â”€ versions
    â”‚       â””â”€â”€ a1a1d8b30202_.py
    â”œâ”€â”€ requirements.txt
    â””â”€â”€ run.py</code></pre>
<p>I chose not to have <code>static</code> and <code>templates</code> directories for each blueprint, because all the application templates will inherit from the same base template and use the same CSS file. Instead, the <code>templates</code> directory will have sub-directories for each blueprint so that blueprint templates can be grouped together.</p>
<p>In each blueprint's <code>__init__.py</code> file, we need to create a Blueprint object and initialize it with a name. We also need to import the views.</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/admin/__init__.py</span>

<span class="token keyword">from</span> flask <span class="token keyword">import</span> Blueprint

admin <span class="token operator">=</span> Blueprint<span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">,</span> __name__<span class="token punctuation">)</span>

<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views</code></pre>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/auth/__init__.py</span>

<span class="token keyword">from</span> flask <span class="token keyword">import</span> Blueprint

auth <span class="token operator">=</span> Blueprint<span class="token punctuation">(</span><span class="token string">'auth'</span><span class="token punctuation">,</span> __name__<span class="token punctuation">)</span>

<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views</code></pre>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/home/__init__.py</span>

<span class="token keyword">from</span> flask <span class="token keyword">import</span> Blueprint

home <span class="token operator">=</span> Blueprint<span class="token punctuation">(</span><span class="token string">'home'</span><span class="token punctuation">,</span> __name__<span class="token punctuation">)</span>

<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views</code></pre>
<p>Then, we can register the blueprints on the app in the <code>app/__init__.py</code> file, like so:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/__init__.py</span>

<span class="token comment"># existing code remains</span>


<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span>config_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># existing code remains</span>

    <span class="token keyword">from</span> app <span class="token keyword">import</span> models

    <span class="token keyword">from</span> <span class="token punctuation">.</span>admin <span class="token keyword">import</span> admin <span class="token keyword">as</span> admin_blueprint
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>admin_blueprint<span class="token punctuation">,</span> url_prefix<span class="token operator">=</span><span class="token string">'/admin'</span><span class="token punctuation">)</span>

    <span class="token keyword">from</span> <span class="token punctuation">.</span>auth <span class="token keyword">import</span> auth <span class="token keyword">as</span> auth_blueprint
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>auth_blueprint<span class="token punctuation">)</span>

    <span class="token keyword">from</span> <span class="token punctuation">.</span>home <span class="token keyword">import</span> home <span class="token keyword">as</span> home_blueprint
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>home_blueprint<span class="token punctuation">)</span>

    <span class="token keyword">return</span> app</code></pre>
<p>We have imported each blueprint object and registered it. For the <code>admin</code> blueprint, we have added a url prefix, <code>/admin</code>. This means that all the views for this blueprint will be accessed in the browser with the url prefix <code>admin</code>.</p>
<h2 id="toc-home-blueprint">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-home-blueprint">Home Blueprint</a>
</h2>
<p>Time to work on fleshing out the blueprints! We'll start with the <code>home</code> blueprint, which will have the homepage as well as the dashboard.</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/home/views.py</span>

<span class="token keyword">from</span> flask <span class="token keyword">import</span> render_template
<span class="token keyword">from</span> flask_login <span class="token keyword">import</span> login_required

<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> home


@home<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">homepage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Render the homepage template on the / route
    """</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'home/index.html'</span><span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">"Welcome"</span><span class="token punctuation">)</span>


@home<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/dashboard'</span><span class="token punctuation">)</span>
@login_required
<span class="token keyword">def</span> <span class="token function">dashboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Render the dashboard template on the /dashboard route
    """</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'home/dashboard.html'</span><span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">"Dashboard"</span><span class="token punctuation">)</span></code></pre>
<p>Each view function has a decorator, <code>home.route</code>, which has a URL route as a parameter (remember that <code>home</code> is the name of the blueprint as specified in the <code>app/home/__init__.py</code> file). Each view handles requests to the specified URL. </p>
<p>The <code>homepage</code> view renders the home template, while the <code>dashboard</code> view renders the dashboard template. Note that the <code>dashboard</code> view has a <code>login_required</code> decorator, meaning that users must be logged in to access it. </p>
<p>Now to work on the base template, which all other templates will inherit from. Create a <code>base.html</code> file in the <code>app/templates</code> directory and add the following code:</p>
<pre class="language-html" data-title="html"><code class="language-html"><span class="token comment">&lt;!-- app/templates/base.html --&gt;</span>

<span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{ title }} | Project Dream Team<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>static<span class="token punctuation">'</span>, filename=<span class="token punctuation">'</span>css/style.css<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shortcut icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>static<span class="token punctuation">'</span>, filename=<span class="token punctuation">'</span>img/favicon.ico<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar navbar-default navbar-fixed-top topnav<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navigation<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container topnav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-toggle<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#bs-example-navbar-collapse-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Toggle navigation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-bar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navbar-brand topnav<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.homepage<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Project Dream Team<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>collapse navbar-collapse<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bs-example-navbar-collapse-1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav navbar-nav navbar-right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.homepage<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      {% block body %}
      {% endblock %}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>push<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-lg-12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list-inline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.homepage<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer-menu-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>â‹…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer-menu-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>â‹…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>copyright text-muted small<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Copyright Â© 2016. All Rights Reserved<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Note that we use <code>#</code> for the Register and Login links. We will update this when we are working on the <code>auth</code> blueprint.</p>
<p>Next, create a <code>home</code> directory inside the <code>app/templates</code> directory. The homepage template, <code>index.html</code>, will go inside it:</p>
<pre class="language-html" data-title="html"><code class="language-html"><span class="token comment">&lt;!-- app/templates/home/index.html --&gt;</span>

{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block body %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>intro-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-lg-12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>intro-message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Project Dream Team<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>The best company in the world!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>intro-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{% endblock %}</code></pre>
<p>Inside the <code>static</code> directory, add <code>css</code> and <code>img</code> directories. Add the following CSS file, <code>style.css</code>, to your <code>static/css</code> directory (note that you will need a background image, <code>intro-bg.jpg</code>, as well as a favicon in your <code>static/img</code> directory):</p>
<pre class="language-css" data-title="css"><code class="language-css"><span class="token comment">/* app/static/css/style.css */</span>

<span class="token selector">body, html </span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">body, h1, h2, h3 </span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Lato"</span>, <span class="token string">"Helvetica Neue"</span>, Helvetica, Arial, sans-serif<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> <span class="token number">700</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">a, <span class="token class">.navbar-default</span> <span class="token class">.navbar-brand</span>, <span class="token class">.navbar-default</span> <span class="token class">.navbar-nav</span>&gt;li&gt;a </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#aec251</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">a<span class="token pseudo-class">:hover</span>, <span class="token class">.navbar-default</span> <span class="token class">.navbar-brand</span><span class="token pseudo-class">:hover</span>, <span class="token class">.navbar-default</span> <span class="token class">.navbar-nav</span>&gt;li&gt;a<span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#687430</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">footer </span><span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">50</span>px <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#f8f8f8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">p<span class="token class">.copyright</span> </span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">15</span>px <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.alert-info</span> </span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">50%</span><span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#687430</span><span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#e6ecca</span><span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token hexcode">#aec251</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.btn-default</span> </span><span class="token punctuation">{</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token hexcode">#aec251</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#aec251</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.btn-default</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#aec251</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.center</span> </span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">50%</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.content-section</span> </span><span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">50</span>px <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">border-top</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#e7e7e7</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.footer</span>, <span class="token class">.push</span> </span><span class="token punctuation">{</span>
  <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">4</span>em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.intro-divider</span> </span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">400</span>px<span class="token punctuation">;</span>
    <span class="token property">border-top</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#f8f8f8</span><span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.intro-header</span> </span><span class="token punctuation">{</span>
    <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
    <span class="token property">padding-bottom</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#f8f8f8</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url(../img/intro-bg.jpg)</span> no-repeat center center<span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.intro-message</span> </span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">20%</span><span class="token punctuation">;</span>
    <span class="token property">padding-bottom</span><span class="token punctuation">:</span> <span class="token number">20%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.intro-message</span> &gt; h1 </span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">text-shadow</span><span class="token punctuation">:</span> <span class="token number">2</span>px <span class="token number">2</span>px <span class="token number">3</span>px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">5</span>em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.intro-message</span> &gt; h3 </span><span class="token punctuation">{</span>
    <span class="token property">text-shadow</span><span class="token punctuation">:</span> <span class="token number">2</span>px <span class="token number">2</span>px <span class="token number">3</span>px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.lead</span> </span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">18</span>px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.topnav</span> </span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.wrapper</span> </span><span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> auto <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto -<span class="token number">4</span>em<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Run the app; you should be able to see the homepage now. </p>
<p><img alt="" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/1FIiIIkGR9eQ3PAJrNeu_Screen%20Shot%202016-12-14%20at%205.01.06%20PM.png"></p>
<h2 id="toc-auth-blueprint">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-auth-blueprint">Auth Blueprint</a>
</h2>
<p>For the <code>auth</code> blueprint, we'll begin by creating the registration and login forms. We'll use <a href="https://flask-wtf.readthedocs.io/en/stable/">Flask-WTF</a>, which will allow us to create forms that are secure (thanks to CSRF protection and reCAPTCHA support).</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">pip <span class="token function">install</span> Flask-WTF</code></pre>
<p>Now to write the code for the forms:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/auth/forms.py</span>

<span class="token keyword">from</span> flask_wtf <span class="token keyword">import</span> FlaskForm
<span class="token keyword">from</span> wtforms <span class="token keyword">import</span> PasswordField<span class="token punctuation">,</span> StringField<span class="token punctuation">,</span> SubmitField<span class="token punctuation">,</span> ValidationError
<span class="token keyword">from</span> wtforms<span class="token punctuation">.</span>validators <span class="token keyword">import</span> DataRequired<span class="token punctuation">,</span> Email<span class="token punctuation">,</span> EqualTo

<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>models <span class="token keyword">import</span> Employee


<span class="token keyword">class</span> <span class="token class-name">RegistrationForm</span><span class="token punctuation">(</span>FlaskForm<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Form for users to create new account
    """</span>
    email <span class="token operator">=</span> StringField<span class="token punctuation">(</span><span class="token string">'Email'</span><span class="token punctuation">,</span> validators<span class="token operator">=</span><span class="token punctuation">[</span>DataRequired<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Email<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    username <span class="token operator">=</span> StringField<span class="token punctuation">(</span><span class="token string">'Username'</span><span class="token punctuation">,</span> validators<span class="token operator">=</span><span class="token punctuation">[</span>DataRequired<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    first_name <span class="token operator">=</span> StringField<span class="token punctuation">(</span><span class="token string">'First Name'</span><span class="token punctuation">,</span> validators<span class="token operator">=</span><span class="token punctuation">[</span>DataRequired<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> StringField<span class="token punctuation">(</span><span class="token string">'Last Name'</span><span class="token punctuation">,</span> validators<span class="token operator">=</span><span class="token punctuation">[</span>DataRequired<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    password <span class="token operator">=</span> PasswordField<span class="token punctuation">(</span><span class="token string">'Password'</span><span class="token punctuation">,</span> validators<span class="token operator">=</span><span class="token punctuation">[</span>
                                        DataRequired<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                        EqualTo<span class="token punctuation">(</span><span class="token string">'confirm_password'</span><span class="token punctuation">)</span>
                                        <span class="token punctuation">]</span><span class="token punctuation">)</span>
    confirm_password <span class="token operator">=</span> PasswordField<span class="token punctuation">(</span><span class="token string">'Confirm Password'</span><span class="token punctuation">)</span>
    submit <span class="token operator">=</span> SubmitField<span class="token punctuation">(</span><span class="token string">'Register'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">validate_email</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> field<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> Employee<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>email<span class="token operator">=</span>field<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span><span class="token string">'Email is already in use.'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">validate_username</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> field<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> Employee<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username<span class="token operator">=</span>field<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span><span class="token string">'Username is already in use.'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">LoginForm</span><span class="token punctuation">(</span>FlaskForm<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Form for users to login
    """</span>
    email <span class="token operator">=</span> StringField<span class="token punctuation">(</span><span class="token string">'Email'</span><span class="token punctuation">,</span> validators<span class="token operator">=</span><span class="token punctuation">[</span>DataRequired<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Email<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    password <span class="token operator">=</span> PasswordField<span class="token punctuation">(</span><span class="token string">'Password'</span><span class="token punctuation">,</span> validators<span class="token operator">=</span><span class="token punctuation">[</span>DataRequired<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    submit <span class="token operator">=</span> SubmitField<span class="token punctuation">(</span><span class="token string">'Login'</span><span class="token punctuation">)</span></code></pre>
<p>Flask-WTF has a number of validators that make writing forms much easier. All the fields in the models have the <code>DataRequired</code> validator, which means that users will be required to fill all of them in order to register or login. </p>
<p>For the registration form, we require users to fill in their email address, username, first name, last name, and their password twice. We use the <code>Email</code> validator to ensure valid email formats are used (e.g <code>some-name@some-domain.com</code>.) We use the <code>EqualTo</code> validator to confirm that the <code>password</code> and <code>confirm_password</code> fields in the <code>RegistrationForm</code> match. We also create methods (<code>validate_email</code> and <code>validate_username</code>) to ensure that the email and username entered have not been used before.</p>
<p>The <code>submit</code> field in both forms will be represented as a button that users will be able to click to register and login respectively.</p>
<p>With the forms in place, we can write the views:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/auth/views.py</span>

<span class="token keyword">from</span> flask <span class="token keyword">import</span> flash<span class="token punctuation">,</span> redirect<span class="token punctuation">,</span> render_template<span class="token punctuation">,</span> url_for
<span class="token keyword">from</span> flask_login <span class="token keyword">import</span> login_required<span class="token punctuation">,</span> login_user<span class="token punctuation">,</span> logout_user

<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> auth
<span class="token keyword">from</span> forms <span class="token keyword">import</span> LoginForm<span class="token punctuation">,</span> RegistrationForm
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">import</span> db
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>models <span class="token keyword">import</span> Employee


@auth<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Handle requests to the /register route
    Add an employee to the database through the registration form
    """</span>
    form <span class="token operator">=</span> RegistrationForm<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> form<span class="token punctuation">.</span>validate_on_submit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        employee <span class="token operator">=</span> Employee<span class="token punctuation">(</span>email<span class="token operator">=</span>form<span class="token punctuation">.</span>email<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
                            username<span class="token operator">=</span>form<span class="token punctuation">.</span>username<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
                            first_name<span class="token operator">=</span>form<span class="token punctuation">.</span>first_name<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
                            last_name<span class="token operator">=</span>form<span class="token punctuation">.</span>last_name<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
                            password<span class="token operator">=</span>form<span class="token punctuation">.</span>password<span class="token punctuation">.</span>data<span class="token punctuation">)</span>

        <span class="token comment"># add employee to the database</span>
        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>add<span class="token punctuation">(</span>employee<span class="token punctuation">)</span>
        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        flash<span class="token punctuation">(</span><span class="token string">'You have successfully registered! You may now login.'</span><span class="token punctuation">)</span>

        <span class="token comment"># redirect to the login page</span>
        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'auth.login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># load registration template</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'auth/register.html'</span><span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">'Register'</span><span class="token punctuation">)</span>


@auth<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Handle requests to the /login route
    Log an employee in through the login form
    """</span>
    form <span class="token operator">=</span> LoginForm<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> form<span class="token punctuation">.</span>validate_on_submit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># check whether employee exists in the database and whether</span>
        <span class="token comment"># the password entered matches the password in the database</span>
        employee <span class="token operator">=</span> Employee<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>email<span class="token operator">=</span>form<span class="token punctuation">.</span>email<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> employee <span class="token keyword">is</span> <span class="token operator">not</span> <span class="token boolean">None</span> <span class="token operator">and</span> employee<span class="token punctuation">.</span>verify_password<span class="token punctuation">(</span>
                form<span class="token punctuation">.</span>password<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># log employee in</span>
            login_user<span class="token punctuation">(</span>employee<span class="token punctuation">)</span>

            <span class="token comment"># redirect to the dashboard page after login</span>
            <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'home.dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># when login details are incorrect</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            flash<span class="token punctuation">(</span><span class="token string">'Invalid email or password.'</span><span class="token punctuation">)</span>

    <span class="token comment"># load login template</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'auth/login.html'</span><span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">'Login'</span><span class="token punctuation">)</span>


@auth<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">'/logout'</span><span class="token punctuation">)</span>
@login_required
<span class="token keyword">def</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Handle requests to the /logout route
    Log an employee out through the logout link
    """</span>
    logout_user<span class="token punctuation">(</span><span class="token punctuation">)</span>
    flash<span class="token punctuation">(</span><span class="token string">'You have successfully been logged out.'</span><span class="token punctuation">)</span>

    <span class="token comment"># redirect to the login page</span>
    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'auth.login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>Just like in the <code>home</code> blueprint, each view here handles requests to the specified URL. The <code>register</code> view creates an instance of the <code>Employee</code> model class using the registration form data to populate the fields, and then adds it to the database. This esentially registers a new employee.</p>
<p>The <code>login</code> view queries the database to check whether an employee exists with an email address that matches the email provided in the login form data. It then uses the <code>verify_password</code> method to check that the password in the database for the employee matches the password provided in the login form data. If both of these are true, it proceeds to log the user in using the <code>login_user</code> method provided by Flask-Login.</p>
<p>The <code>logout</code> view has the <code>login_required</code> decorator, which means that a user must be logged in to access it. It calles the <code>logout_user</code> method provided by Flask-Login to log the user out.</p>
<p>Note the use of <code>flash</code> method, which allows us to use Flask's <a href="http://flask.pocoo.org/docs/0.11/patterns/flashing/">message flashing</a> feature. This allows us to communicate feedback to the user, such as informing them of successful registration or unsuccessful login.</p>
<p>Finally, let's work on the templates. First, we'll install <a href="https://pythonhosted.org/Flask-Bootstrap/index.html">Flask-Bootstrap</a> so we can use its <code>wtf</code> and <code>utils</code> libraries. The <code>wtf</code> library will allow us to quickly generate forms in the templates based on the forms in the <code>forms.py</code> file. The <code>utils</code> library will allow us to display the flash messages we set earlier to give feedback to the user.</p>
<pre class="language-bash" data-title="bash"><code class="language-bash">pip <span class="token function">install</span> flask-bootstrap</code></pre>
<p>We need to edit the <code>app/__init__.py</code> file to use Flask-Bootstrap:</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/__init__.py</span>

<span class="token comment"># after existing third-party imports</span>
<span class="token keyword">from</span> flask_bootstrap <span class="token keyword">import</span> Bootstrap

<span class="token comment"># existing code remains</span>


<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span>config_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># existing code remains</span>

    Bootstrap<span class="token punctuation">(</span>app<span class="token punctuation">)</span>

    <span class="token keyword">from</span> app <span class="token keyword">import</span> models

    <span class="token comment"># blueprint registration remains here</span>

    <span class="token keyword">return</span> app</code></pre>
<p>We've made quite a number of edits to the <code>app/__init__.py</code> file. This is the final version of the file and how it should look at this point (note that I have re-arranged the imports and variables in alphabetical order):</p>
<pre class="language-python" data-title="python"><code class="language-python"><span class="token comment"># app/__init__.py</span>

<span class="token comment"># third-party imports</span>
<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask
<span class="token keyword">from</span> flask_bootstrap <span class="token keyword">import</span> Bootstrap
<span class="token keyword">from</span> flask_login <span class="token keyword">import</span> LoginManager
<span class="token keyword">from</span> flask_migrate <span class="token keyword">import</span> Migrate
<span class="token keyword">from</span> flask_sqlalchemy <span class="token keyword">import</span> SQLAlchemy

<span class="token comment"># local imports</span>
<span class="token keyword">from</span> config <span class="token keyword">import</span> app_config

db <span class="token operator">=</span> SQLAlchemy<span class="token punctuation">(</span><span class="token punctuation">)</span>
login_manager <span class="token operator">=</span> LoginManager<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span>config_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">,</span> instance_relative_config<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_object<span class="token punctuation">(</span>app_config<span class="token punctuation">[</span>config_name<span class="token punctuation">]</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_pyfile<span class="token punctuation">(</span><span class="token string">'config.py'</span><span class="token punctuation">)</span>

    Bootstrap<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    db<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    login_manager<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    login_manager<span class="token punctuation">.</span>login_message <span class="token operator">=</span> <span class="token string">"You must be logged in to access this page."</span>
    login_manager<span class="token punctuation">.</span>login_view <span class="token operator">=</span> <span class="token string">"auth.login"</span>
    migrate <span class="token operator">=</span> Migrate<span class="token punctuation">(</span>app<span class="token punctuation">,</span> db<span class="token punctuation">)</span>

    <span class="token keyword">from</span> app <span class="token keyword">import</span> models

    <span class="token keyword">from</span> <span class="token punctuation">.</span>admin <span class="token keyword">import</span> admin <span class="token keyword">as</span> admin_blueprint
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>admin_blueprint<span class="token punctuation">,</span> url_prefix<span class="token operator">=</span><span class="token string">'/admin'</span><span class="token punctuation">)</span>

    <span class="token keyword">from</span> <span class="token punctuation">.</span>auth <span class="token keyword">import</span> auth <span class="token keyword">as</span> auth_blueprint
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>auth_blueprint<span class="token punctuation">)</span>

    <span class="token keyword">from</span> <span class="token punctuation">.</span>home <span class="token keyword">import</span> home <span class="token keyword">as</span> home_blueprint
    app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>home_blueprint<span class="token punctuation">)</span>

    <span class="token keyword">return</span> app</code></pre>
<p>We need two templates for the <code>auth</code> blueprint: <code>register.html</code> and <code>login.html</code>, which we'll create in an <code>auth</code> directory inside the <code>templates</code> directory.</p>
<pre class="language-html" data-title="html"><code class="language-html"><span class="token comment">&lt;!-- app/templates/auth/register.html --&gt;</span>

{% import "bootstrap/wtf.html" as wtf %}
{% extends "base.html" %}
{% block title %}Register{% endblock %}
{% block body %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content-section<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Register for an account<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    {{ wtf.quick_form(form) }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{% endblock %}</code></pre>
<pre class="language-html" data-title="html"><code class="language-html"><span class="token comment">&lt;!-- app/templates/auth/login.html --&gt;</span>

{% import "bootstrap/utils.html" as utils %}
{% import "bootstrap/wtf.html" as wtf %}
{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block body %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content-section<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  {{ utils.flashed_messages() }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Login to your account<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    {{ wtf.quick_form(form) }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{% endblock %}</code></pre>
<p>The forms are loaded from the <code>app/auth/views.py</code> file, where we specified which template files to display for each view. Remember the Register and Login links in the base template? Let's update them now so we can access the pages from the menus:</p>
<pre class="language-html" data-title="html"><code class="language-html"><span class="token comment">&lt;!-- app/templates/base.html --&gt;</span>

<span class="token comment">&lt;!-- Modify nav bar menu --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav navbar-nav navbar-right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.homepage<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.register<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.login<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Modify footer menu --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list-inline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.homepage<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer-menu-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>â‹…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.register<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer-menu-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>â‹…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.login<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Run the app again and click on the Register and Login menu links. You should see the templates loaded with the appropriate form.</p>
<p>Try to fill out the registration form; you should be able to register a new employee. After registration, you should be redirected to the login page, where you will see the flash message we configured in the <code>app/auth/views.py</code> file, inviting you to login.</p>
<p><img alt="" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/YNe42GM3REC5V89JEUQ4_Screen%20Shot%202016-12-14%20at%205.05.39%20PM.png"></p>
<p><img alt="" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/MYG8y2mPRju5r4seFyMw_Screen%20Shot%202016-12-14%20at%205.06.50%20PM.png"></p>
<p>Logging in should be successful; however you should get a <code>Template Not Found</code> error after logging in, because the <code>dashboard.html</code> template has not been created yet. Let's do that now:</p>
<pre class="language-html" data-title="html"><code class="language-html"><span class="token comment">&lt;!-- app/templates/home/dashboard.html --&gt;</span>

{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block body %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>intro-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-lg-12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>intro-message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>The Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>We made it here!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>intro-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{% endblock %}</code></pre>
<p>Refresh the page. You'll notice that the navigation menu still has the register and login links, even though we are already logged in. We'll need to modify it to show a logout link when a user is already authenticated. We will also include a <code>Hi, username!</code> message in the nav bar:</p>
<pre class="language-html" data-title="html"><code class="language-html"><span class="token comment">&lt;!-- app/templates/base.html --&gt;</span>

<span class="token comment">&lt;!-- In the head tag, include link to Font Awesome CSS so we can use icons --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Modify nav bar menu --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nav navbar-nav navbar-right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    {% if current_user.is_authenticated %}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.dashboard<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.logout<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Logout<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fa fa-user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>  Hi, {{ current_user.username }}!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {% else %}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.homepage<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.register<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.login<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {% endif %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Modify footer menu --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list-inline<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>home.homepage<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer-menu-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>â‹…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {% if current_user.is_authenticated %}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.logout<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Logout<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {% else %}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.register<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer-menu-divider<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>â‹…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ url_for(<span class="token punctuation">'</span>auth.login<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {% endif %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Note how we use <code>if-else</code> statements in the templates. Also, take note of the <code>current_user</code> proxy provided by Flask-Login, which allows us to check whether the user is authenticated and to get the user's username. </p>
<p><img alt="" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/p5AiTJWHSHd9fleVKrxA_Screen%20Shot%202016-12-14%20at%205.09.39%20PM.png"></p>
<p>Logging out will take you back to the login page:</p>
<p><img alt="" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/fvZWaNdqRiGaWAr4cotK_Screen%20Shot%202016-12-14%20at%205.11.22%20PM.png"></p>
<p>Attempting to access the dashboard page without logging in will redirect you to the login page and display the message we set in the <code>app/__init__.py</code> file:</p>
<p><img alt="" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/nbibjCDVR82P6XRsLB01_Screen%20Shot%202016-12-14%20at%204.57.58%20PM.png"></p>
<p>Notice that the URL is configured such that once you log in, you will be redirected to the page you initially attempted to access, which in this case is the dashboard.</p>
<h2 id="toc-conclusion">
<a href="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#toc-conclusion">Conclusion</a>
</h2>
<p>That's it for Part One! We've covered quite a lot: setting up a MySQL database, creating models, migrating the database, and handling registration, login, and logout. Good job for making it this far! </p>
<p>Watch this space for Part Two, which will cover the CRUD functionality of the app, allowing admin users to add, list, edit, and delete departments and roles, as well as assign them to employees.</p>
</div>
<p>
Like this article?
<a href="https://twitter.com/mbithenzomo" title="Follow @mbithenzomo on Twitter">
Follow @mbithenzomo on Twitter
</a>
</p>
<div id="comments" class="p-t-md" style="
            background: #faf8f4;
            padding: 0 25px;
            border-radius: 10px;
            border: solid 1px #f8f2e8;
            box-shadow: 0 0px 3px 0 rgba(88,88,102,.07);
        ">
<script defer="" src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/sp_D7GE1sbz" data-spotim-module="spotim-launcher" data-post-url="https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one" data-post-id="2379">
            </script>
</div>
</div>
</div>
<div class="column is-narrow is-right">
<div class="article-inner">
<div class="article-sidebar">
<div class="sidebar-sticky">
<div class="sidebar-item" style="height: 35%; top: 0">
<div class="make-me-sticky">
<div class="is-hidden-with-subscription has-text-centered">
<div id="bsa-zone_1537909991-1_123456"></div>
</div>
<div class="m-t">
<div class="react-syndicate" data-is-sidebar="true" data-take="1"></div>
</div>
</div>
</div>
<div class="sidebar-item card is-author" style="height: 20%; top: 36%">
<div class="make-me-sticky">
<div class="article-author is-small is-vertical">
<a href="https://scotch.io/@mbithenzomo" class="author-avatar image is-128x128" title="Mbithe Nzomo&#39;s Avatar">
<img class="lazy" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,h_auto,q_auto:good,f_auto,c_fill,g_face/media/8943/DIpEAHkMScuUwZL9s5Q1_mbithe.jpg" alt="Mbithe Nzomo">
</a>
<h3 class="title is-5">
<a href="https://scotch.io/@mbithenzomo" title="Mbithe Nzomo">Mbithe Nzomo</a>
</h3>
<div class="m-b-sm">
<a href="https://twitter.com/intent/follow?screen_name=mbithenzomo" class="button is-info is-small ">
Follow @mbithenzomo
</a>
</div>
<div class="author-bio"><p>I'm a software engineer from Nairobi, Kenya with interests in Machine Learning and Artificial Intelligence. I'm currently a postgraduate student at The University of Manchester, studying Advanced Computer Science with a specialisation in AI.</p></div>
<div class="author-action m-t-sm m-b-0">
<a href="https://scotch.io/@mbithenzomo" title="View Mbithe Nzomo&#39;s Profile" class="button is-dark is-rounded is-fullwidth">
View My 8 Posts
</a>
</div>
</div>
</div>
</div>
<div class="sidebar-item" style="height: 40%; top: 57%">
<div class="make-me-sticky">
<div class="is-hidden-with-subscription has-text-centered">
<div id="bsa-zone_1537909991-3_123456"></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<footer>
<div class="article-end">
<div class="section is-small" style="background: #fff">
<div data-spotim-module="recirculation" data-spot-id="sp_D7GE1sbz"></div>
</div>
<section class="section is-author p-y-lg" style="background: #CBCED4">
<div class="container">
<div class="columns">
<div class="column">
<div class="article-author is-large is-horizontal">
<a href="https://scotch.io/@mbithenzomo" class="author-avatar image " title="Mbithe Nzomo&#39;s Avatar">
<img class="lazy" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,h_auto,q_auto:good,f_auto,c_fill,g_face/media/8943/DIpEAHkMScuUwZL9s5Q1_mbithe.jpg" alt="Mbithe Nzomo">
</a>
<h3 class="title is-5">
<a href="https://scotch.io/@mbithenzomo" title="Mbithe Nzomo">Mbithe Nzomo</a>
</h3>
<div class="m-b-sm">
<a href="https://twitter.com/intent/follow?screen_name=mbithenzomo" class="button is-info is-small ">
Follow @mbithenzomo
</a>
</div>
<div class="author-bio"><p>I'm a software engineer from Nairobi, Kenya with interests in Machine Learning and Artificial Intelligence. I'm currently a postgraduate student at The University of Manchester, studying Advanced Computer Science with a specialisation in AI.</p></div>
<div class="links">
<div class="author-links">
<a href="https://twitter.com/mbithenzomo" target="_blank" rel="noopener noreferrer" title="Twitter @mbithenzomo">
<span class="icon color-twitter">
<i class="fab fa-twitter fa-2x"></i>
</span>
</a>
<a href="https://github.com/mbithenzomo" target="_blank" rel="noopener noreferrer" title="GitHub">
<span class="icon icon-github has-text-grey-dark">
<i class="fab fa-github-alt fa-2x" data-fa-transform="down-0.75"></i>
</span>
</a>
<a href="https://mbithe.me/" target="_blank" rel="noopener noreferrer" title="Website https://mbithe.me">
<span class="icon has-text-primary">
<i class="fal fa-browser fa-2x"></i>
</span>
</a>
</div>
</div>
<div class="author-action m-t-sm m-b-0">
<a href="https://scotch.io/@mbithenzomo" title="View Mbithe Nzomo&#39;s Profile" class="button is-dark is-rounded is-fullwidth">
View My 8 Posts
</a>
</div>
</div>
</div>
<div class="column is-narrow is-hidden-touch" style="align-self: center; flex-basis: 500px">
<div class="card is-scotch  ">
<a class="card-image" href="https://scotch.io/bar-talk/flask-or-django-an-in-depth-comparison-part-one" title="Flask Or Django? An In-Depth Comparison | Part One">
<div class="image is-2by1 lazy" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/8943/RO8jqQByS5Ob7FEyDhOw_flask-or-django-1.jpg">
</div>
</a>
<div class="card-content">
<h2 class="title is-4">
<a href="https://scotch.io/bar-talk/flask-or-django-an-in-depth-comparison-part-one">Flask Or Django? An In-Depth Comparison | Part One</a>
</h2>
<p>A guide to help you choose one of Python's two most popular frameworks for your next web project</p>
</div>
</div>
</div>
</div>
</div>
</section>
</div>
</footer>
</article>
</main>

<footer id="scotchy-footer" class="section is-small p-t-xs p-b-sm">
<div class="footer__projects is-hidden-mobile is-hidden-tablet-only">
<div class="container">
<div class="columns center-flex-v">
<div class="column is-8">
<div class="footer__about">
<div class="about__title">
<div class="logo center-flex-v">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="70">
<image width="100%" height="100%" xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAd8AAAM5BAMAAAC0rCbdAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEUAAAD////NqEjt1H+lfjGkfjCkfS8AAAB5F91IAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfhAwIPGBhmTpfuAAAQs0lEQVR42u3cS24cSw4FUKVdC8jawYMGGj9ArbnQXUt4mjcagva/hLY+lqsq40MyyCCZde/MhpQZJy8jsiwbvrujZDm+ZyV9rUM+VnfUvOLNgY8ZwJrLAzhWAA54xRRgb1c1+i8RgGMFYIABBhhggAMFYIABplwwOlhxfQAHC8DhLghwsPUF/zm8/msT4GgBGGCAAQYY4EABGGCACdcLD9ZbIMDRAnCw6yUBe6sa0X6NABwtAAMMMMAAAxwoAAMMMMCby8UHq60Q4HABONTlsoBXb1UrAAMMMMAAe6MABhjgoaslAGstEeB4AVjhat6mZnTPVYDjBWCA2RfLAFZaI8ABYwBevU0AXwRggAHuXCsFWGeRAEcMwMPX8hZ1onmyAhwxAI9eKgdYZZUAhwzAo5davUW9AAwwwM0rJQFrLBPgmNEGe3u60TtqAI4ZgMculAWssE6Ag0YZvHp7+gEYYIAb10kDHl8owFGjC/bWEKJ12AAcNUrgLJ8s1VYKcNiogldvDSUAA0y/SiLw6FIBjhtNsLeFFJ3jBuC4UQHn+aCltFaAA0cRvHpbaAEYYOo1UoHHFgtw5OiBvSXEaBw4twbO9LlDZbUAhw7A0kus3hJqABZeIRl4ZLkAx44W2NtBzviRc2vgXK9hhfUCHDxK4NXbQQ/Aou9PB5YvGODo0QF7KxgZPXRuDZztNTy8YoDDRwW8eis4GQOneyuNLhng+AFY8N3eBlaGztl8b6XBNQOcIArg1dvAC8Ds700Jli0a4AwZB3sLmBk4eDK+lYZWDXCKDINXbwE3cnDKQ3pk2QDnyCjYe/3zwDkP6YF1A5wkAPO+cfVePz9ScNK3knzhAGfJGNh79YIID5+sh7R45QCnyRB49V69JDJw2kNaunSA80S09LxnlnDtACcKwJQkPrNkiwc4U+Rg75ULI/hYnPnMEq0e4FQRg1fvlUvDB6c+pCXLBzhX2MvPfWYJ1g9wsgDcS/Iziw8AOFuYgOxbmC0AOF0Abif9mcUlAJwvLEL+Lcw0AJwwALeygzOLhwA4YxiIPWxhlgLglAG4nl2cWRwGwDlDZuxjCzMcACcN2bGTLUyHAJw1AJezlzOLLAE4bYiS3WxhKgXgvCFR9rOFiRaAEwfgUnZ0ZtEwAGcOAbOnLUzSAJw6BM2utjCFA3DuAHydfZ1ZBA/AydP17GwL90EAZ08HtLct3BUBnD4AX2Z3Z1aPBHD+NEn728IdE8A7CMDn2eGZ1UYBvIc0UHvcwk0VwLsIwH+yyzOrxQJ4H6my9rmFGy6AdxKAf2enZ1YdBnDs/Lj/yl9jYG8HU0shL2VwojPrktslV2R5wPeFtMTJwT/u75niJnj19vRyX0tDXAbnOKTv7wXiMi0F+P5eIs4Lvm9HAvYmtfKj461WXDye4h/SXW9VXLTFB/e9taHOCaZ4KxU3wKs3a8xbq7gEDn5IE72Viku42GCqt1JxOjDhgG5WXAd7y4a95YoLB1ToQ5rjLVZc0EUGs7zFinOBWQPNBK/eOAVvcaa34LiHNNdbrHjLCwvme0sV5wGzB5oH9uapeEsznQYs8hYq3pzJQd9KsoKr4GPjN0JE6C3MdBKw1EsGr97Cy4gLLsx0BrDcW6j4GhzxNTzgrYHX6q8DZKTg7UwnAI94qWBvo5p3O9NLdPDQQPfB8V7Dg97NTF8Jw4FHC04HHvXSwKs3U8+73cShwcMD3QUHew0reDczfUmMBdYoOBVYw0sCe0O/olLwZhMvccE63jxgpYKb4EifO7S8ZfAxHljLe31qRQWrFUwAr97Y96h5K++laGC9gpOA9bybU+scHOaDlmLBFfAaC6zpzQBWLbgPZq7u8SxKYFVv+b0kBT9u8ne0ghXBPx/LGTXrehtg3getGneYrFxw46MWC/zYzgBZ2asD/vnYTZSCVcAEr5is7b1+L23Aq5ZXNtfqBTc+W1LBRK5MrO8dBtO9grE2KHgUTJ1nmdjAWweTPkozvcyxtii4/mGaAmZ7eWIL7/V7iQfmezlik4J7YHUvQ2zirX+Y7oMFA80R2xQ8AhZ6qWIb7wBYWjBRbFSwHDzgJYmNvHLwiJcgtiq4Cu79YWmoYILYylv982EPPOjtic0Krv75sAMeLfix87naztsGr2YFt8WGBdf+9NAGKxTcFBt6ZWAVb30bWxbsCa6KLb0isM5EV4fatGARWMtbEZt6JWC1gstDbVtwDXycAy6Jbb21n/G0wIrewlAbFywAaxZcEBt7/cFXQ21dcBtsP9EbsbW39s8t62Dlgq+G2rzgCODzis29fLC691xs7w0B/h7qHwHB+hN9VvEEbwzw47yCg4AfpxXMBtt4P4Z6SsFRwI+zCuaCjSb6veI5BYcBP/49xxsH/K+YYDvvy79vC/xyOt0U+Omf02lOxTzwT8OCJ1UcA/xe8KSKY4A/Cp4jDgH+LHjOUEcAP30VPKViHth0oOdUHAD8PdBTKg4APivYvuK//MHnBdtXHAB8UbB5xf7gl38uwcYVu4OfrrzWFfPAP80H2rxib/C2YOOKncFP24KNK3YGl7y2FfuCSwNtXPE16XgBXo3B5YJNK3YFv/xTARtW7Al+qnktK/YEv1S9hhWXwbV/iacKbhRsWDEPrPnR8qlRsF3Ff/mBm16ziv3AzYG2q7gDPpqBnzoFW1V8DV5mgbvenYGrHzmsZ5oL/jlroK0qviuC17s72z89ULw2FfuACQNtVPFDD7xagHtvJMOK38pvpTr47j8KXtJA21T8Xzb4pDDQVK9+xQ8eYOIGtgE/18GVz5an0ZmmbmCTmX6rgC/eyLpg+ga2qPi1fEi3wIfBmWZ51SsWgYcqZmxgg4ofROCRilkbWL/ih1MDXPvrtBEwbwPrg7dn1vnRXHsvyWda4NWd6dfGW6kBFlcs8KpW/CAFCyvmHlif+Z8i+NQEVz55HKQVy7ynVz3w2+bMKvyX6aVjWlQx/4BW38WvzUO6BRZULDmwlMEPMvD7JuZXLPfqHVuFLXxprJ9a7IpHvGoVv7XPrDaYV/GQV63iVyH4wK540KtUcWELc8CMike9ShU/nHrg1jHNqHjcqwN+O7UP6fYxTRcreHVm+rV3SPfAtKHW8KpU/NAHN49povhFxatR8a8t3DmkO6cWaaiFn58tKn7rnll9cE/8pOYdr/jXRFPB1U3cEyuNs07FpYlersFLF3yaUq9GxW+n/plFAVdPLtV6FSp+ZYAbm7hW8otuveMVN7bwcfM7HfC2ZAPuKPjXRPfPrPr/E7dZzcXeteCeBmf6lXJmUY7p87x8xkQ7WPEDEUw5tf7EpliVit8nun9mUU+tWRmo+FfBlDOLemrNytBEU84sxqkVu+LiRDfA1E0cteKPgilnVv3UOqQSP7x/610FTHgKjmDZUL8VweXpjbWJZRWXJ7pCC7aJRRV/FEzbwnXwIVHF7wVXt/BK+20/ML/ihzK4UuUSbRPzKy5PdHV2w4G5FX8WTD2zAm5irvijYPIWjgjmDfVnwQxwvE3Mq/izYPoWjgjmVPxVMAMccaYZ4s+CGRMdE0we6q+CWeCIM00WfxXMmeg62LNi4lBXC26BQ840seKvglkT/Q2ONdMk8dtXwc90U9hNTBH/HmjeFv4GB5tpwjb+PdAnOqnzOHzBPfHvgS4U3NzCUTdxT/w90NwtHPXF1BE/fA8086UUeBM3xX+87C0cdxM3xN8bWLCFGyN/8PbWxGfeE8OTYKaL7+OHc69gokPP9Glb8tl5dRJNdOyZPl2V/PB24ZVMdPCZ/kiNK5voxtd4Q8/z9p7r33wWgaPPdCOiiW7tc29QJ89V8B0FHHymSWDSROedaeFEt77Mm9TMsxhcH4SDN6oVDmQXMy0uOOlMyyc66UwPTHTKikcK/v7STBXXC6aAE8700EQnnOmxiU4402MT3fxqb1ox9YJpE92ah4M3rhSWgDnTESsuFMyb6ObXH7x52/Aay1+xQsFN8MEbeB3ehO5gpjUmOtNMq0x0pop1Cv4Gh6/4mbd20UwfvJHn4U2nbKYjVVwoWDTRaSpWKzhJxYoFt7e+N7ThlR1Z50+qVPHBm/oZ7rLlMx2j4lLB4onufOvBG/sedk3JK9YuuL39D97cdsEicHv/e3PbBa93ksSuWL/gzvNyFvMXPFqx71A/WxQcuWKTggNXbFTwn0uUn1ks73fBA+DONQ5eYEk7mSu2K7h7lUBelYK7lzl4gEXVJK7YtOD+hYJ41QruXukwGyzrRbHiyWJZLZoVzx3qZ/OCCRfz96oW3L/aYR5Y2olyxdPE0kq0K5411M9zCqZc0NWrXjDlip5e9YJJl/TzGhRMuebBGjzShknFxuKRMmwqthUPdTFUsY94bGFjFTcepJl4cF1mFVuJR5clC+lRmoiHVyUL7VkaiMcXJQzxYSpznzXWJMviISZ6LQqmX36al1qBufig5W3fxtzLuMOEes0H+vIWE8Q9r33B5/foPtThsVZcy0COjLuY1suZtpEsnNsMlKz76EdyZD1YIVl9HfPEEjJlFaxJG8vCnSUm2WYRIzmyb8Yg89ewmoMXvph4Yj/bPfOhHGX309JeLmCdAJbfsDrbrNsvs72XQ82/pbTY0t2neK+Gmi8eyuDTVrjpXPHlrafd9ugldnvUXmK30Vp8xJd3nei9vvUksdtOuttUPOXuR8eCN3ef/CF+/utwU7G1eJn+gK9znCreeNfp4G3Fc3566FVwqeIJPxD3K7hYsfnf8XgWXFyH7V9b+hZcqdjwnx54F1wBK69msb8FPRWwZsnmN2ClVrFaA1NmSAWs04H181Rckcai6o9T5Wmqg0fJjQv7gZe2eGBhhk/SECwmd67rB77rgUWr6z1G4VOcBeaS+9cLD5b8j5rJwcRVqj8+/fS2G322GVdy9DLBtXqYV8kFVgjAAAOcGrzeGvjmGgYYYIABBhjgSjy8SX4AAHBK8OICjvxzaYABzgX28Yb928P9gRcncMR/AbBPsJfXbaYB3jl4cQMH+5d4uwX7eZ1m+tbAiyPYZaZvDuzpdZnpWwMvrmCHmb45sK/XYaYB3jl4cQZP38Q3B/b2Tp9pb6/r/x/iE4BN4609zp5pb+1s8OKtfQ/AhvG2fmQF2CyLt/UzAJvFW/qVFWCjLN7S3wEYYJ14O7+zAmySxdv5JwCbxFt5lhVggyzeyvMAbBBv40VWgNWzeBsvA7B6vIVXWQFWzuItvA7AyvH2bbICrJrF27cNwKrx1hWyAgywPIu3rhSAFeNtK2YFWC2Lt60cgNXiLatkBVgpi7esFoCV4u2qZgVYJYu3qx6A9z3RVjPtrZoNXrxVrQC874m2mWlv02zw4m1qB+B9T7TFTHuLZoMXb1EvAAPMi7enmxXgfU+09kzfHNhbQ4juTHtrADYGL94aSgAGmB5vCykrwABTs3hbaAEYYIAr8ZYQswIMMMAAv2fxllADMMAAAwxw5AAMMMAAAxw5AEvjDSFmBRhggFOD1bxZjmmAdz7TK8AAk7N4YyhR9KaoWLPgGwQv3px+VL23B44/07oTnaBiZW/4irULDl+xujd4xfoFB6/YwBu6YouCQ1ds4g0sNvKGHWqbgY4rNvTGHGpDb0ixqTeg2NgbTmzuvQt1cq0zvIFKnsMNU/KkesOUPJMbgDyb60z24PqRVy+uj9lV+5mbKfcsU3r2Rl7nNqqdgY6K/Z1lz2Ncz+571XMnlbLls5z/BwPxdwyhWA63AAAAAElFTkSuQmCC"></image>
</svg> </div>
<h4>Scotch</h4>
</div>
<p class="p-r-lg m-b-xs">Top shelf learning. Dev tutorials explaining the code <strong style="color: #DDD">and the choices behind it all.</strong></p>
<p>Made with ðŸ’– by <a href="https://twitter.com/chrisoncode" class="has-text-light">Chris</a> and <a href="https://twitter.com/whatnicktweets" class="has-text-light">Nick</a>.</p>
<ul class="footer-social-links list-unstyled">
<li><a href="https://twitter.com/scotch_io" class="icon-twitter" title="Follow Scotch on Twitter">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 410.155 410.155" style="enable-background:new 0 0 410.155 410.155;" xml:space="preserve" width="50" height="50">
<path style="fill:#23A0F2;" d="M403.632,74.18c-9.113,4.041-18.573,7.229-28.28,9.537c10.696-10.164,18.738-22.877,23.275-37.067
	l0,0c1.295-4.051-3.105-7.554-6.763-5.385l0,0c-13.504,8.01-28.05,14.019-43.235,17.862c-0.881,0.223-1.79,0.336-2.702,0.336
	c-2.766,0-5.455-1.027-7.57-2.891c-16.156-14.239-36.935-22.081-58.508-22.081c-9.335,0-18.76,1.455-28.014,4.325
	c-28.672,8.893-50.795,32.544-57.736,61.724c-2.604,10.945-3.309,21.9-2.097,32.56c0.139,1.225-0.44,2.08-0.797,2.481
	c-0.627,0.703-1.516,1.106-2.439,1.106c-0.103,0-0.209-0.005-0.314-0.015c-62.762-5.831-119.358-36.068-159.363-85.14l0,0
	c-2.04-2.503-5.952-2.196-7.578,0.593l0,0C13.677,65.565,9.537,80.937,9.537,96.579c0,23.972,9.631,46.563,26.36,63.032
	c-7.035-1.668-13.844-4.295-20.169-7.808l0,0c-3.06-1.7-6.825,0.485-6.868,3.985l0,0c-0.438,35.612,20.412,67.3,51.646,81.569
	c-0.629,0.015-1.258,0.022-1.888,0.022c-4.951,0-9.964-0.478-14.898-1.421l0,0c-3.446-0.658-6.341,2.611-5.271,5.952l0,0
	c10.138,31.651,37.39,54.981,70.002,60.278c-27.066,18.169-58.585,27.753-91.39,27.753l-10.227-0.006
	c-3.151,0-5.816,2.054-6.619,5.106c-0.791,3.006,0.666,6.177,3.353,7.74c36.966,21.513,79.131,32.883,121.955,32.883
	c37.485,0,72.549-7.439,104.219-22.109c29.033-13.449,54.689-32.674,76.255-57.141c20.09-22.792,35.8-49.103,46.692-78.201
	c10.383-27.737,15.871-57.333,15.871-85.589v-1.346c-0.001-4.537,2.051-8.806,5.631-11.712c13.585-11.03,25.415-24.014,35.16-38.591
	l0,0C411.924,77.126,407.866,72.302,403.632,74.18L403.632,74.18z"></path>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
</a></li>
<li><a href="https://facebook.com/scotchdevelopment" class="icon-facebook" title="Follow Scotch on Facebook">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="50" height="50" viewBox="0 0 96.124 96.123" style="enable-background:new 0 0 96.124 96.123;" xml:space="preserve">
<g>
<path d="M72.089,0.02L59.624,0C45.62,0,36.57,9.285,36.57,23.656v10.907H24.037c-1.083,0-1.96,0.878-1.96,1.961v15.803   c0,1.083,0.878,1.96,1.96,1.96h12.533v39.876c0,1.083,0.877,1.96,1.96,1.96h16.352c1.083,0,1.96-0.878,1.96-1.96V54.287h14.654   c1.083,0,1.96-0.877,1.96-1.96l0.006-15.803c0-0.52-0.207-1.018-0.574-1.386c-0.367-0.368-0.867-0.575-1.387-0.575H56.842v-9.246   c0-4.444,1.059-6.7,6.848-6.7l8.397-0.003c1.082,0,1.959-0.878,1.959-1.96V1.98C74.046,0.899,73.17,0.022,72.089,0.02z" fill="#FFFFFF"></path>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
</a></li>
<li><a href="https://github.com/scotch-io" class="icon-github" title="Follow Scotch on GitHub">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="50" height="50" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
<path d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M408.027,408.027   c-19.76,19.759-42.756,35.267-68.354,46.094c-6.502,2.75-13.105,5.164-19.801,7.246V423c0-20.167-6.916-35-20.75-44.5   c8.668-0.833,16.625-2,23.875-3.5s14.918-3.667,23-6.5c8.084-2.833,15.334-6.208,21.75-10.125c6.418-3.917,12.584-9,18.5-15.25   c5.918-6.25,10.875-13.333,14.875-21.25s7.168-17.417,9.5-28.5c2.334-11.083,3.5-23.292,3.5-36.625c0-25.833-8.416-47.833-25.25-66   c7.668-20,6.834-41.75-2.5-65.25l-6.25-0.75c-4.332-0.5-12.125,1.333-23.375,5.5s-23.875,11-37.875,20.5   c-19.832-5.5-40.416-8.25-61.749-8.25c-21.5,0-42,2.75-61.5,8.25c-8.833-6-17.208-10.958-25.125-14.875s-14.25-6.583-19-8   s-9.167-2.292-13.25-2.625s-6.708-0.417-7.875-0.25s-2,0.333-2.5,0.5c-9.333,23.667-10.167,45.417-2.5,65.25   c-16.833,18.167-25.25,40.167-25.25,66c0,13.333,1.167,25.542,3.5,36.625s5.5,20.583,9.5,28.5s8.958,15,14.875,21.25   s12.083,11.333,18.5,15.25s13.667,7.292,21.75,10.125s15.75,5,23,6.5s15.208,2.667,23.875,3.5c-13.667,9.333-20.5,24.167-20.5,44.5   v39.115c-7.549-2.247-14.99-4.902-22.3-7.994c-25.597-10.827-48.594-26.335-68.353-46.094   c-19.758-19.758-35.267-42.756-46.093-68.354C46.679,313.195,41,285.043,41,256s5.679-57.195,16.879-83.675   c10.827-25.597,26.335-48.594,46.093-68.353c19.758-19.759,42.756-35.267,68.353-46.093C198.805,46.679,226.957,41,256,41   s57.195,5.679,83.676,16.879c25.598,10.827,48.594,26.335,68.354,46.093c19.758,19.758,35.266,42.756,46.092,68.353   C465.32,198.805,471,226.957,471,256s-5.68,57.195-16.879,83.675C443.295,365.271,427.785,388.27,408.027,408.027z" fill="#FFFFFF"></path>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
</a></li>
</ul>
</div>
</div>
<div class="column is-4">
<div class="is-hidden-with-account">
<style>
.ml-subscribe-form-1112100 {
    color: #eee;
    text-align: center;
    margin: 0 auto 20px;
    max-width: 90%;
}

.ml-subscribe-form-1112100 h4 {
    font-size: 22px;
    color: #eee;
    margin-bottom: 20px;
}

@media  screen and (max-width: 768px) {
    .ml-subscribe-form-1112100 h4 {
        font-size: 16px;
    }
}
</style>
<div id="mlb2-1112100" class="ml-form-embedContainer ml-subscribe-form ml-subscribe-form-1112100">
<div class="ml-form-align-center ">
<div class="ml-form-embedWrapper embedForm">
<div class="ml-form-embedBody ml-form-embedBodyHorizontal row-form">
<h4>We can't send Scotch drinks...<br>but we can send cool dev articles</h4>
<form class="ml-block-form" action="https://app.mailerlite.com/webforms/submit/w3o9h2" data-code="w3o9h2" method="post" target="_blank">
<style type="text/css">
              .ml_message_wrapper {
                position: absolute !important;
                left: -9999px !important;
              }
            </style>
<div aria-label="Please leave the following field empty" class="ml_message_wrapper">
<input type="text" name="ml_message" tabindex="-1" value="" placeholder="Message" autocomplete="off" title="message">
<input type="text" name="ml_email" tabindex="-1" value="" placeholder="Email" autocomplete="off" title="email">
<input type="text" name="ml_name" tabindex="-1" value="" placeholder="Name" autocomplete="off" title="name">
</div>
<div class="field has-addons">
<div class="control is-expanded has-icons-left ml-field-group ml-field-email ml-validate-email ml-validate-required">
<input type="email" class="form-control input is-medium" data-inputmask="" name="fields[email]" value="" placeholder="Email" aria-label="Your Email">
<div class="icon is-small is-left">
ðŸ“§
</div>
</div>
<div class="control">
<button type="submit" class="primary button is-warning is-outlined is-medium">Subscribe</button>
<button disabled="" style="display: none;" type="button" class="button is-warning is-outlined is-medium is-loading loading">
ðŸŒŸ Magic âœ¨
</button>
</div>
</div>
<style type="text/css">
              .ml-form-recaptcha {
                margin-bottom: 20px;
              }

              .ml-form-recaptcha.ml-error iframe {
                border: solid 1px #ff0000;
              }
            </style>
<input type="hidden" name="ml-submit" value="1">
</form>
</div>
<div class="ml-form-successBody row-success" style="display: none">
<div class="ml-form-successContent">
<h4>Thank you!</h4>
<p>You have successfully joined the Scotchy super duper web dev awesome mailing list.</p>
</div>
</div>
</div>
</div>
</div>
<script>
    function ml_webform_success_1112100() {
        document.querySelector('.ml-subscribe-form-1112100 .row-success').style.display = 'block';
        document.querySelector('.ml-subscribe-form-1112100 .row-form').style.display = 'none';
        // var $ = ml_jQuery || jQuery;
        // $('.ml-subscribe-form-1112100 .row-success').show();
        // $('.ml-subscribe-form-1112100 .row-form').hide();
      }
  </script>
<img class="lazy" data-src="https://track.mailerlite.com/webforms/o/1112100/w3o9h2?vaa4d608450783acdc64d5338ff94f6d5" width="1" height="1" style="max-width: 1px; max-height: 1px; visibility: hidden; padding: 0; margin: 0; display: block;" border="0">
</div>
</div>
</div>
</div>
</div>
<div class="footer__bottom footer--dark p-b-sm">
<div class="container">
<div class="footer__copyright columns">
<div class="column has-text-left is-hidden-touch partners">
<nav>
<ul class="list-unstyled powered-by is-hidden-mobile" style="justify-content: flex-start">
<li><a href="https://cloudinary.com/?utm_source=scotch&amp;utm_campaign=coolstuff">
Images hosted and processed by<br>
<img class="lazy" data-src="/img/logos/cloudinary.png" alt="Cloudinary">
</a></li>
<li><a href="https://algolia.com/?utm_source=scotch&amp;utm_campaign=coolstuff">
Real-time search by<br>
<img class="lazy" data-src="/img/logos/algolia.png" alt="Algolia" style="padding-top: 5px">
</a></li>
<li><a href="https://m.do.co/c/7a59e9361ab7">
Hosted by<br>
<img class="lazy" data-src="/img/logos/digital-ocean.png" alt="Digital Ocean" style="padding-top: 4px">
</a></li>
</ul>
</nav>
</div>
<div class="column has-text-right">
<nav style="height: 100%">
<ul class="list-unstyled" style="align-items: center; justify-content: flex-end; height: 100%">
<li><a href="https://discover.buysellads.com/tech/scotchio">Advertise</a></li>
<li><a href="https://scotch.io/privacy">Privacy</a></li>
<li><a href="https://scotch.io/terms">Terms</a></li>
<li><a href="https://scotch.io/rules">Rules</a></li>
<li><a href="https://scotch.io/contact">Contact</a></li>
<li>1853-2019 Â© Scotch.io, LLC</li>
</ul>
</nav>
</div>
</div>
</div>
</div>
</footer>
<script src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/scotch-S2S-v20181004.js" data-cfasync="false" defer=""></script>
<script>
    if (window.bsa_targeting !== undefined) {
        window.bsa_targeting.push(['scotchio_section', ['single-post']]);
        window.bsa_targeting.push(['scotchio_postid', ['2379']]);
    }
</script>
<script>
    if (window.bsa_targeting !== undefined) {
                    window.bsa_targeting.push(['scotchio_tags', ["python","crud","flask"]]);
            }
</script>
<script src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/polyfill.min.js" defer=""></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-36045075-1', 'auto');
ga('set', 'transport', 'beacon');
ga('send', 'pageview');
</script>
<script src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/manifest.js" defer=""></script>
<script src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/vendor.js" defer=""></script>
<script>
    // used to lazyload spot im in lazyload-comments.js
    window.scotchy = window.scotchy || {};
    window.scotchy.articleId =  "2379";
    window.scotchy.articleUrl = "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one";
    </script>
<script src="./Build a CRUD Web App With Python and Flask - Part One â€• Scotch.io_files/app.js" defer=""></script>
<script>
    const twitchBanner = document.getElementById('twitch-banner');

    fetch('/api/twitch/check')
        .then(resp => resp.json())
        .then(data => {
            if (data.is_streaming)
                twitchBanner.style.display = 'block';
        });
</script>
<script>
        window.addEventListener('load', function(event) {
            // dont open search on mobile
            if (window.innerWidth > 1024) {
                setTimeout(function() {
                    var searchScripp = document.createElement('script');
                    searchScripp.type = 'text/javascript';
                    searchScripp.src = "/js/app-search.js?id=75d73da5e854411a3e09";
                    searchScripp.defer = true;
                    document.body.appendChild(searchScripp);
                }, 5000);
            }
        });
    </script>
<script>
                    // published at
            if (window.ga !== undefined)
                window.ga('set', 'dimension4', 'December 20, 2016');
        
                    // main tag
            if (window.ga !== undefined)
                window.ga('set', 'dimension5', 'python');
        
        // author
        if (window.ga !== undefined) {
            window.ga('set', 'contentGroup1', "Mbithe Nzomo")
            window.ga('set', 'dimension1', "Mbithe Nzomo")
        }
    </script>
<script>
const authorFollowTwitter = document.getElementById('author-follow-twitter');
authorFollowTwitter.addEventListener('click', function(e) {
    e.preventDefault();
    const url = this.href;
    const twitterUsername = authorFollowTwitter.dataset.twitterUsername;

    if (window.ga) {
        window.ga(
            'send',
            'event',
            'Follows',
            'Twitter',
            twitterUsername,
            { 'transport': 'beacon', 'hitCallback': function() { document.location = url; }}
        );
    } else {
        document.location = url;
    }
});
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Organization",
    "@id": "https://scotch.io#organization",
    "name": "Scotch.io",
    "url": "https://scotch.io",
    "sameAs": [
        "http://www.facebook.com/scotchdevelopment",
        "http://twitter.com/scotch_io",
        "http://instagram.com/scotch_io",
        "http://www.linkedin.com/in/scotch_io",
        "http://plus.google.com/scotch_io"
    ],
    "legalName": "Scotch.io, LLC",
    "logo": {
        "@type": "ImageObject",
        "url": "https://scotch.io/img/school-logo-sticker.png",
        "width": 37,
        "height": 60
    },
    "founder": {
        "@type": "Person",
        "name": "Chris Sevilleja",
        "image": {
            "@type": "ImageObject",
            "url": "https://scotch-res.cloudinary.com/image/upload/w_300,q_auto:good,f_auto,c_fill,g_face/media/1/w7Vhk81SyClJPlDQPMLh_17795826_10154678250924582_8102840950354615336_n.jpg",
            "width": 300,
            "height": 300
        }
    }
}
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "@id": "https://scotch.io#website",
    "url": "https://scotch.io",
    "name": "Scotch",
    "alternateName": "Scotch.io",
    "potentialAction": {
        "@type": "SearchAction",
        "target": "https://scotch.io/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    "author": {
        "@id": "https://scotch.io#organization"
    }
}
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one",
    "url": "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one",

        "headline": "Build a CRUD Web App With Python and Flask - Part One",
    
    "description": "Python and Flask can make building a CRUD app super easy.",

    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "https://scotch.io/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
    },

    "publisher": {
        "@id": "https://scotch.io#organization"
    },

    
        "dateCreated": "2016-11-01 03:54:57",
    
        "datePublished": "2016-12-20 08:41:44",
    
    
        "dateModified": "2019-01-30 05:10:44",
    
        "commentCount": 96,
    
    "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "item": {
                    "@id": "https://scotch.io",
                    "name": "Home"
                }
            },

                            {
                    "@type": "ListItem",
                    "position": 2,
                    "item": {
                        "@id": "https://scotch.io/tutorials",
                        "name": "Tutorials"
                    }
                },
                {
                    "@type": "ListItem",
                    "position": 3,
                    "item": {
                        "@id": "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one",
                        "name": "Build a CRUD Web App With Python and Flask - Part One"
                    }
                }
                    ]
    },
    
    "sourceOrganization": {
        "@id": "https://scotch.io#organization"
    }
}
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "TechArticle",
    "@id": "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one"
    },
    "url": "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one",
    "headline": "Build a CRUD Web App With Python and Flask - Part One",
    "wordCount": 4907,
    "description": "Python and Flask can make building a CRUD app super easy.",
    "audience": "web developers and designers",
    "discussionUrl": "https://scotch.io/tutorials/build-a-crud-web-app-with-python-and-flask-part-one#comments",

        "proficiencyLevel": "Beginner",
    
        "image": {
        "@type": "ImageObject",
        "url": "https://scotch-res.cloudinary.com/image/upload/w_1500,q_auto:good,f_auto/media/8943/oEGZ93DzRw2JMGZStUKE_flask-crud-part-one.jpg",
        "height": 750,
        "width": 1500
    },
    
        "keywords": "python, crud, flask",
    
        "dateCreated": "2016-11-01 03:54:57",
    
        "datePublished": "2016-12-20 08:41:44",
    
    
        "dateModified": "2019-01-30 05:10:44",
    
        "articleSection": "Tutorials",
    
        "commentCount": 96,
    
        "author": {
        "@type": "Person",
        "name": "Mbithe Nzomo",

                "image": {
            "@type": "ImageObject",
            "url": "https://scotch-res.cloudinary.com/image/upload/w_300,h_300,q_auto:good,f_auto,c_fill,g_face/media/8943/DIpEAHkMScuUwZL9s5Q1_mbithe.jpg",
            "height": 300,
            "width": 300
        },
        
        "url": "https://scotch.io/@mbithenzomo"
    },
    
    "publisher": {
        "@id": "https://scotch.io#organization"
    }
}
</script>


</body></html>